<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CCSIELS Admin Panel</title>

    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">

    <link href="assets/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/admindash_style.css"> 

</head>

<body>
    <!--            SIDEBAR               -->
    <div class="dashboard-layout">
        <div class="overlay"></div>
        <nav id="sidebar">
            <div class="sidebar-header">
                <h3>Admin Panel</h3>
            </div>

            <ul class="list-unstyled components">
                <li class="active">
                    <a href="#dashboard-view" class="sidebar-link">
                        <i class="fas fa-tachometer-alt fa-fw me-2"></i>Dashboard
                    </a>
                </li>
                <li>

                    <a href="#manage-equipment-view" class="sidebar-link">
                        <i class="fas fa-tools fa-fw me-2"></i>Manage Equipment
                    </a>
                </li>
                <li>
                    <a href="#borrow-requests-view" class="sidebar-link">
                        <i class="fas fa-clipboard-list fa-fw me-2"></i>Borrow Requests
                    </a>
                </li>
                <li>
                    <a href="#borrowed-items-view" class="sidebar-link">
                        <i class="fas fa-box-open fa-fw me-2"></i>Borrowed Items Log
                    </a>
                </li>
                <li>
                    <a href="#user-management-view" class="sidebar-link">
                        <i class="fas fa-users-cog fa-fw me-2"></i>User Management
                    </a>
                </li>
                <li>
                    <a href="#activity-log-view" class="sidebar-link">
                        <i class="fas fa-history fa-fw me-2"></i>Activity Log
                    </a>
                </li>
                <li>
                    <a href="#notifications-view" class="sidebar-link">
                        <i class="fas fa-bell fa-fw me-2"></i>Notifications
                    </a>
                </li>
            </ul>

            <ul class="list-unstyled bottom-links">
                <li>
                    <a href="#settings-view" class="sidebar-link">
                        <i class="fas fa-cog fa-fw me-2"></i>Settings
                    </a>
                </li>
                <li>
                    <!-- UPDATED: Logout triggers modal -->
                    <a href="#" id="logout-link" class="sidebar-link" data-bs-toggle="modal"
                        data-bs-target="#logoutConfirmationModal">
                        <i class="fas fa-sign-out-alt fa-fw me-2"></i>Log out
                    </a>
                </li>
            </ul>
        </nav>

        <!-- CONTENT WRAPPER -->
        <div id="content-wrapper">
            <!-- Improved Top Navbar -->
        <nav
          id="top-navbar"
          class="navbar navbar-expand-lg navbar-light bg-white border-bottom sticky-top shadow-sm"
        >
                <div class="container-fluid">
            <!-- Mobile Sidebar Toggle Button -->
            <button
              type="button"
              id="sidebarCollapse"
              class="btn btn-sm btn-outline-secondary d-lg-none me-2"
              aria-label="Toggle sidebar"
            >
              <i class="fas fa-align-left"></i>
            </button>
                    <!-- Desktop Logo -->
            <a
              class="navbar-brand d-none d-lg-block py-1"
              href="#dashboard-view"
            >
                       
                        <!-- Added padding py-1 -->
              <img
                src="images/Group 3 Logo.png"
                alt="CCSIELS Logo"
                class="navbar-logo-img"
                style="max-height: 35px; width: auto"
              />
              <!-- UPDATE PATH -->
            </a>
                   <!-- Mobile Page Title -->
            <span
              class="navbar-brand d-lg-none fs-6 fw-bold me-auto"
              id="mobilePageTitle"
              >Dashboard</span
            >

            <!-- Right Aligned Items Wrapper -->
            <div class="ms-auto d-flex align-items-center">
              <!-- Global Search (Responsive & Usable) -->
              <form
                class="d-flex me-2 me-lg-3 flex-grow-0 flex-sm-grow-1"
                role="search"
                id="globalSearchForm"
                action="/search-results"
                method="GET"
              >
                <div class="input-group input-group-sm border rounded">
                  <input
                    class="form-control form-control-sm border-0"
                    type="search"
                    name="query"
                    placeholder="Global Search..."
                    aria-label="Search"
                  />
                  <button
                    class="btn btn-link text-secondary border-0 px-2"
                    type="submit"
                    id="global-search-button"
                    aria-label="Submit Search"
                  >
                    <i class="fas fa-search"></i>
                  </button>
                </div>
              </form>
                        <!-- Notifications Dropdown (Improved) -->
              <div class="nav-item dropdown me-2 me-lg-3">
                <!-- Added dropdown class -->
                <a
                  class="nav-link position-relative link-secondary px-2 dropdown-toggle"
                  href="#"
                  id="navbarNotificationsDropdown"
                  role="button"
                  data-bs-toggle="dropdown"
                  aria-expanded="false"
                  title="Notifications"
                >
                  <!-- Changed to dropdown trigger -->
                  <i class="fas fa-bell fs-5"></i>
                  <!-- Indicator Dot (JS Controls Visibility) -->
                  <span
                    class="position-absolute top-0 start-100 translate-middle p-1 bg-danger border border-light rounded-circle"
                    id="topnav-notif-indicator"
                    style="display: none"
                    title="New notifications"
                  >
                    <span class="visually-hidden">New notifications</span>
                  </span>
                </a>
                            <!-- Dropdown Menu -->
                <ul
                  class="dropdown-menu dropdown-menu-end shadow-sm border-0 mt-2"
                  aria-labelledby="navbarNotificationsDropdown"
                  style="min-width: 300px; max-height: 400px; overflow-y: auto"
                >
                  <li><h6 class="dropdown-header">Notifications</h6></li>
                  <!-- Notification List Area (JS Populates This) -->
                  <div id="navbarNotificationList">
                    <!-- Example Notification Item (Repeat Dynamically) -->
                    <li>
                      <a
                        class="dropdown-item small d-flex align-items-start"
                        href="#"
                      >
                        <i
                          class="fas fa-clipboard-list text-primary me-2 mt-1"
                        ></i>
                        <div>
                          New borrow request from J. Bojos.
                          <div class="text-muted" style="font-size: 0.8em">
                            5 mins ago
                          </div>
                        </div>
                      </a>
                    </li>
                    <li>
                      <a
                        class="dropdown-item small d-flex align-items-start"
                        href="#"
                      >
                        <i
                          class="fas fa-exclamation-triangle text-danger me-2 mt-1"
                        ></i>
                        <div>
                          Item #P01 Epson Projector is overdue.
                          <div class="text-muted" style="font-size: 0.8em">
                            1 day ago
                          </div>
                        </div>
                      </a>
                    </li>
                    <!-- End Example -->
                  </div>
                  <!-- Empty State (JS Shows/Hides This) -->
                  <li id="navbarNotificationsEmpty" style="display: none">
                    <p class="dropdown-item text-center text-muted small my-2">
                      No new notifications
                    </p>
                  </li>
                  <li><hr class="dropdown-divider my-1" /></li>
                  <!-- Link to Full Notifications Page -->
                  <li>
                    <a
                      class="dropdown-item text-center small text-primary sidebar-link"
                      href="#notifications-view"
                    >
                      <i class="fas fa-envelope-open-text me-1"></i> View All
                      Notifications
                    </a>
                  </li>
                </ul>
              </div>

              <!-- Profile Dropdown -->
              <div class="nav-item dropdown">
                <a
                  class="nav-link dropdown-toggle d-flex align-items-center p-1 border rounded-pill pe-2"
                  href="#"
                  id="profileDropdown"
                  role="button"
                  data-bs-toggle="dropdown"
                  aria-expanded="false"
                >
                  <img
                    src="images/userprof.jpg"
                    alt="Admin Avatar"
                    class="rounded-circle me-1"
                    width="30"
                    height="30"
                  />
                  <!-- UPDATE PATH -->
                  <span
                    class="d-none d-sm-inline me-1 small"
                    id="profileUsername"
                    >Admin Test</span
                  >
                </a>
                <ul
                  class="dropdown-menu dropdown-menu-end shadow-sm border-0 mt-2"
                  aria-labelledby="profileDropdown"
                >
                  <li>
                    <a
                      class="dropdown-item small sidebar-link"
                      href="#settings-view"
                      ><i class="fas fa-user-cog fa-fw me-2 text-muted"></i
                      >Profile Settings</a
                    >
                  </li>
                  <li><hr class="dropdown-divider my-1" /></li>
                  <li>
                    <a
                      class="dropdown-item small"
                      href="#"
                      id="logout-link-top"
                      data-bs-toggle="modal"
                      data-bs-target="#logoutConfirmationModal"
                      ><i class="fas fa-sign-out-alt fa-fw me-2 text-muted"></i
                      >Logout</a
                    >
                  </li>
                </ul>
              </div>
            </div>
            <!-- End Right Aligned Items -->
          </div>
        </nav>
        <!-- End Improved Top Navbar -->

            <!--MAIN CONTENT-->
            <main id="main-content" class="p-3 p-md-4">

                <!--DASHBOARD VIEW-->
                <div id="dashboard-view" class="main-view">
                    <h1 class="h3 mb-4">Welcome, Admin!</h1>
                    <!-- Dashboard cards -->
                    <div class="row g-3 mb-4">
                        <div class="col-md-6 col-xl-3">
                            <div class="card dashboard-card bg-primary text-white h-100">
                                <div class="card-body d-flex align-items-center"> <i class="fas fa-box fa-3x me-3"></i>
                                    <div>
                                        <div class="fs-1 fw-bold">6</div>
                                        <div class="text-uppercase small">Total Items</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 col-xl-3">
                            <div class="card dashboard-card bg-success text-white h-100">
                                <div class="card-body d-flex align-items-center"> <i
                                        class="fas fa-people-carry fa-3x me-3"></i>
                                    <div>
                                        <div class="fs-1 fw-bold">4</div>
                                        <div class="text-uppercase small">Total Items Borrowed</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 col-xl-3">
                            <div class="card dashboard-card bg-warning text-dark h-100">
                                <div class="card-body d-flex align-items-center"> <i
                                        class="fas fa-clock fa-3x me-3"></i>
                                    <div>
                                        <div class="fs-1 fw-bold">2</div>
                                        <div class="text-uppercase small">Pending Requests</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 col-xl-3">
                            <div class="card dashboard-card bg-danger text-white h-100">
                                <div class="card-body d-flex align-items-center"> <i
                                        class="fas fa-exclamation-triangle fa-3x me-3"></i>
                                    <div>
                                        <div class="fs-1 fw-bold">1</div>
                                        <div class="text-uppercase small">Overdue Item</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Recent Activity -->
                    <div class="card content-panel mb-4">
                        <div class="card-header">
                            <h5 class="mb-0">Recent Activity</h5>
                        </div>
                        <div class="card-body">
                            <ul class="list-group list-group-flush activity-log">
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    <div><i class="fas fa-clock text-warning me-2"></i> New request from 'Nurhana
                                        Aminulla' for item '#M01 A4Tech Mouse'.</div> <span class="text-muted small">3
                                        hours ago</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    <div><i class="fas fa-clock text-warning me-2"></i> New request from 'Jelord Bojos'
                                        for item '#L01 Lenovo Laptop'.</div> <span
                                        class="text-muted small">Yesterday</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    <div><i class="fas fa-undo text-secondary me-2"></i> Item '#M01 A4Tech Mouse'
                                        returned by 'Jelord Bojos'.</div> <span class="text-muted small">2 days
                                        ago</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    <div><i class="fas fa-check-circle text-success me-2"></i> Request for '#K01 A4Tech
                                        Keyboard' approved for 'Jelord Bojos'.</div> <span class="text-muted small">3
                                        days ago</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    <div><i class="fas fa-exclamation-triangle text-danger me-2"></i> Item '#P01 Epson
                                        Projector' borrowed by 'Miko Zamora' is now overdue.</div> <span
                                        class="text-muted small">4 days ago</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    <div><i class="fas fa-plus-circle text-info me-2"></i> New equipment '#U01 APC UPS'
                                        added to inventory.</div> <span class="text-muted small">5 days ago</span>
                                </li>
                            </ul>
                            <div class="text-center mt-3"> <a href="#activity-log-view"
                                    class="btn btn-sm btn-outline-secondary sidebar-link">View Full Activity Log</a>
                            </div>
                        </div>
                    </div>
                    <!-- Quick Actions -->
                    <div class="card content-panel">
                        <div class="card-header">
                            <h5 class="mb-0">Quick Actions: Pending Requests</h5>
                        </div>
                        <div class="card-body quick-actions-list">
                            <div class="d-flex justify-content-between align-items-center border-bottom pb-2 mb-2">
                                <div>
                                    <div class="fw-bold">#L01 Lenovo Laptop</div> <small class="text-muted">Requested
                                        by: Jelord Bojos</small><br> <small class="text-muted">Purpose: Project
                                        Defense</small>
                                </div>
                                <div class="btn-group btn-group-sm" role="group"> <button type="button"
                                        class="btn btn-success approve-request-btn" data-request-id="P1"
                                        title="Approve Request"><i class="fas fa-check"></i></button> <button
                                        type="button" class="btn btn-danger reject-request-btn" data-request-id="P1"
                                        title="Reject Request"><i class="fas fa-times"></i></button>
                                 </div>
                            </div>
                            <div class="d-flex justify-content-between align-items-center border-bottom pb-2 mb-2">
                                <div>
                                    <div class="fw-bold">#M01 A4Tech Mouse</div> <small class="text-muted">Requested by:
                                        Nurhana Aminulla</small><br> <small class="text-muted">Purpose: Lab
                                        Activity</small>
                                </div>
                                <div class="btn-group btn-group-sm" role="group"> <button type="button"
                                        class="btn btn-success approve-request-btn" data-request-id="P2"
                                        title="Approve Request"><i class="fas fa-check"></i></button> <button
                                        type="button" class="btn btn-danger reject-request-btn" data-request-id="P2"
                                        title="Reject Request"><i class="fas fa-times"></i></button>
                                     </div>
                            </div>
                            <div class="text-center mt-3"> <a href="#borrow-requests-view"
                                    class="btn btn-sm btn-outline-primary sidebar-link">View All Borrow Requests</a>
                            </div>
                        </div>
                    </div>
                    <div class="background-logo"></div>
                </div>

                <!-- MANAGE EQUIPMENT VIEW  -->
                <div
            id="manage-equipment-view"
            class="main-view"
            style="display: block"
          >
            <!-- Changed display for visibility -->
            <div class="card content-panel border-0 shadow-sm">
              <div
                class="card-header bg-light border-bottom d-flex justify-content-between align-items-center flex-wrap gap-2"
              >
                <h4 class="mb-0 fw-bold form-title">Manage Equipment</h4>
                <button
                  class="btn btn-primary btn-sm"
                  data-bs-toggle="modal"
                  data-bs-target="#addEquipmentModal"
                >
                  <i class="fas fa-plus me-1"></i> Add New Equipment Type
                </button>
              </div>

                
                <!--  NEW: BORROW REQUESTS VIEW   -->
                <div id="borrow-requests-view" class="main-view" style="display: none;">
                    <div class="card content-panel">
                        <div class="card-header">
                            <ul class="nav nav-tabs card-header-tabs" id="borrowRequestTabs" role="tablist">
                                <li class="nav-item" role="presentation"> <button class="nav-link active"
                                        id="pending-tab" data-bs-toggle="tab" data-bs-target="#pending-tab-pane"
                                        type="button" role="tab" aria-controls="pending-tab-pane" aria-selected="true">
                                        <i class="fas fa-clock me-1"></i> Pending <span
                                            class="badge bg-warning text-dark ms-1">2</span> </button> </li>
                                <li class="nav-item" role="presentation"> <button class="nav-link" id="approved-tab"
                                        data-bs-toggle="tab" data-bs-target="#approved-tab-pane" type="button"
                                        role="tab" aria-controls="approved-tab-pane" aria-selected="false"> <i
                                            class="fas fa-check-circle me-1"></i> Approved / Borrowed <span
                                            class="badge bg-success text-white ms-1">2</span> </button> </li>
                                <li class="nav-item" role="presentation"> <button class="nav-link" id="rejected-tab"
                                        data-bs-toggle="tab" data-bs-target="#rejected-tab-pane" type="button"
                                        role="tab" aria-controls="rejected-tab-pane" aria-selected="false"> <i
                                            class="fas fa-times-circle me-1"></i> Rejected <span
                                            class="badge bg-danger text-white ms-1">2</span> </button> </li>
                            </ul>
                        </div>
                        <div class="card-body">
                            <div class="tab-content" id="borrowRequestTabContent">
                                <!-- Pending Tab Pane -->
                                <div class="tab-pane fade show active" id="pending-tab-pane" role="tabpanel"
                                    aria-labelledby="pending-tab" tabindex="0">
                                    <h4 class="mb-3 tab-pane-title">Pending Approvals</h4>
                                    <div class="table-responsive">
                                        <table class="table table-hover align-middle requests-table">
                                            <thead class="table-light">
                                                <tr>
                                                    <th>Student Name</th>
                                                    <th>Item Requested</th>
                                                    <th>Purpose</th>
                                                    <th>Date Needed</th>
                                                    <th>Return Date</th>
                                                    <th>Actions</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>Jelord Bojos</td>
                                                    <td>#L01 Lenovo Laptop</td>
                                                    <td>Project Defense</td>
                                                    <td>3/21/2025</td>
                                                    <td>3/24/2025</td>
                                                    <td>  <button
                                                            class="btn btn-sm btn-success me-1 approve-request-btn"
                                                            title="Approve" data-request-id="P1"><i
                                                                class="fas fa-check me-1"></i>Approve</button> <button
                                                            class="btn btn-sm btn-danger reject-request-btn"
                                                            title="Reject" data-request-id="P1"><i
                                                                class="fas fa-times me-1"></i>Reject</button> </td>
                                                </tr>
                                                <tr>
                                                    <td>Nurhana Aminulla</td>
                                                    <td>#M01 A4Tech Mouse</td>
                                                    <td>Lab Activity</td>
                                                    <td>3/22/2025</td>
                                                    <td>3/22/2025</td>
                                                    <td> <button
                                                            class="btn btn-sm btn-success me-1 approve-request-btn"
                                                            title="Approve" data-request-id="P2"><i
                                                                class="fas fa-check me-1"></i>Approve</button> <button
                                                            class="btn btn-sm btn-danger reject-request-btn"
                                                            title="Reject" data-request-id="P2"><i
                                                                class="fas fa-times me-1"></i>Reject</button> </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <!-- Approved Tab Pane -->
                                <div class="tab-pane fade" id="approved-tab-pane" role="tabpanel"
                                    aria-labelledby="approved-tab" tabindex="0">
                                    <h4 class="mb-3 tab-pane-title">Approved / Borrowed Items</h4>
                                    <div class="table-responsive">
                                        <table class="table table-hover align-middle requests-table">
                                            <thead class="table-light">
                                                <tr>
                                                    <th>Student Name</th>
                                                    <th>Item Borrowed</th>
                                                    <th>Purpose</th>
                                                    <th>Borrowed</th>
                                                    <th>Due Date</th>
                                                    <th>Status</th>
                                                    <th>Actions</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>Jelord Bojos</td>
                                                    <td>#K01 A4Tech Keyboard</td>
                                                    <td>Thesis Typing</td>
                                                    <td>3/18/2025</td>
                                                    <td>3/25/2025</td>
                                                    <td><span
                                                            class="badge bg-success-light text-success">Borrowed</span>
                                                    </td>
                                                    <td> <button
                                                            class="btn btn-sm btn-primary action-btn confirm-return-btn"
                                                            title="Confirm Return" data-bs-toggle="modal"
                                                            data-bs-target="#viewReturnDetailsModal" data-borrow-id="B1"
                                                            data-item-name="#K01 A4Tech Keyboard"
                                                            data-student-name="Jelord Bojos"
                                                            data-return-condition="Good"
                                                            data-return-notes="Returned on time, working fine."> <i
                                                                class="fas fa-undo"></i> Confirm Return </button>
                                                        <button
                                                            class="btn btn-sm btn-outline-secondary ms-1 action-btn notify-due-btn"
                                                            title="Notify User about Due Date"><i
                                                                class="fas fa-bell"></i> Notify</button> </td>
                                                </tr>
                                                <tr>
                                                    <td>Miko Zamora</td>
                                                    <td>#P01 Epson Projector</td>
                                                    <td>Org Event</td>
                                                    <td>3/10/2025</td>
                                                    <td>3/15/2025</td>
                                                    <td><span class="badge bg-danger-light text-danger">Overdue</span>
                                                    </td>
                                                    <td> <button
                                                            class="btn btn-sm btn-primary action-btn confirm-return-btn"
                                                            title="Confirm Return" data-bs-toggle="modal"
                                                            data-bs-target="#viewReturnDetailsModal" data-borrow-id="B2"
                                                            data-item-name="#P01 Epson Projector"
                                                            data-student-name="Miko Zamora" data-return-condition="Fair"
                                                            data-return-notes="Returned late. Minor scuffs noted."> <i
                                                                class="fas fa-undo"></i> Confirm Return </button>
                                                        <button
                                                            class="btn btn-sm btn-danger ms-1 action-btn notify-overdue-btn"
                                                            title="Notify User about Overdue Item"><i
                                                                class="fas fa-bell"></i> Notify Overdue</button> </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <!-- Rejected Tab Pane -->
                                <div class="tab-pane fade" id="rejected-tab-pane" role="tabpanel"
                                    aria-labelledby="rejected-tab" tabindex="0">
                                    <h4 class="mb-3 tab-pane-title">Rejected Requests</h4>
                                    <div class="table-responsive">
                                        <table class="table table-hover align-middle requests-table">
                                            <thead class="table-light">
                                                <tr>
                                                    <th>Student Name</th>
                                                    <th>Item Requested</th>
                                                    <th>Purpose</th>
                                                    <th>Date Requested</th>
                                                    <th>Reason (If any)</th>
                                                    <th>Status</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>Jelord Bojos</td>
                                                    <td>#C01 HDMI Cable</td>
                                                    <td>Personal Use - Gaming</td>
                                                    <td>3/19/2025</td>
                                                    <td class="text-muted fst-italic">Non-academic purpose</td>
                                                    <td><span class="badge bg-danger-light text-danger">Rejected</span>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>Nurhana Aminulla</td>
                                                    <td>#L02 Lenovo Laptop</td>
                                                    <td>Outside School Event</td>
                                                    <td>3/20/2025</td>
                                                    <td class="text-muted fst-italic">Item unavailable</td>
                                                    <td><span class="badge bg-danger-light text-danger">Rejected</span>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--  END BORROW REQUESTS VIEW -->


                <!-- BORROWED ITEMS LOG (History) VIEW -->
                <div id="borrowed-items-view" class="main-view" style="display: none;">
                    <div class="card content-panel">
                        <div class="card-body">
                            <h3 class="text-center mb-4 fw-bold form-title">Borrowing & Return Log</h3>
                            <div class="mb-3">
                                <div class="input-group"> <span class="input-group-text"><i
                                            class="fas fa-search"></i></span> <input type="text" class="form-control"
                                        placeholder="Search log by item, student, date..."> </div>
                            </div>
                            <div class="table-responsive">
                                <table class="table table-hover align-middle history-log-table">
                                    <thead class="table-dark-green">
                                        <tr>
                                            <th>Student Name</th>
                                            <th>Item Name & Code</th>
                                            <th>Purpose</th>
                                            <th>Borrowed</th>
                                            <th>Due</th>
                                            <th>Returned</th>
                                            <th>Borrower Return Notes</th>
                                            <th>Status</th>
                                            <th>Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Jelord Bojos</td>
                                            <td>A4Tech Mouse (#M01)</td>
                                            <td>Lab Activity</td>
                                            <td>3/05/2025</td>
                                            <td>3/06/2025</td>
                                            <td>3/06/2025</td>
                                            <td>Returned in good condition.</td>
                                            <td><span class="badge bg-secondary-light text-secondary">Returned</span>
                                            </td>
                                            <td><span class="text-muted fst-italic">Completed</span></td>
                                        </tr>
                                        <tr>
                                            <td>Jelord Bojos</td>
                                            <td>A4Tech Keyboard (#K01)</td>
                                            <td>Thesis Typing</td>
                                            <td>3/18/2025</td>
                                            <td>3/25/2025</td>
                                            <td>-</td>
                                            <td>-</td>
                                            <td><span class="badge bg-success-light text-success">Borrowed</span></td>
                                            <td> <button class="btn btn-sm btn-primary action-btn confirm-return-btn"
                                                    title="Confirm Return" data-bs-toggle="modal"
                                                    data-bs-target="#viewReturnDetailsModal" data-borrow-id="B1"
                                                    data-item-name="#K01 A4Tech Keyboard"
                                                    data-student-name="Jelord Bojos" data-return-condition="Good"
                                                    data-return-notes="Returned on time, working fine."> <i
                                                        class="fas fa-undo"></i> Confirm Return </button> </td>
                                        </tr>
                                        <tr>
                                            <td>Miko Zamora</td>
                                            <td>Epson Projector (#P01)</td>
                                            <td>Org Event</td>
                                            <td>3/10/2025</td>
                                            <td>3/15/2025</td>
                                            <td>-</td>
                                            <td>-</td>
                                            <td><span class="badge bg-danger-light text-danger">Overdue</span></td>
                                            <td> <button class="btn btn-sm btn-primary action-btn confirm-return-btn"
                                                    title="Confirm Return" data-bs-toggle="modal"
                                                    data-bs-target="#viewReturnDetailsModal" data-borrow-id="B2"
                                                    data-item-name="#P01 Epson Projector"
                                                    data-student-name="Miko Zamora" data-return-condition="Fair"
                                                    data-return-notes="Returned late. Minor scuffs noted."> <i
                                                        class="fas fa-undo"></i> Confirm Return </button> </td>
                                        </tr>
                                        <tr>
                                            <td>Merson Cael</td>
                                            <td>Lenovo Laptop (#L01)</td>
                                            <td>Research</td>
                                            <td>3/16/2025</td>
                                            <td>3/21/2025</td>
                                            <td>3/19/2025</td>
                                            <td>Slight scratch on lid, noted by borrower.</td>
                                            <td><span class="badge bg-secondary-light text-secondary">Returned</span>
                                            </td>
                                            <td><span class="text-muted fst-italic">Completed</span></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <nav aria-label="Borrowed items history navigation" class="d-flex justify-content-end mt-3">
                                <ul class="pagination pagination-sm">
                                    <li class="page-item disabled"><a class="page-link" href="#" tabindex="-1"
                                            aria-disabled="true">Prev</a></li>
                                    <li class="page-item active" aria-current="page"><a class="page-link" href="#">1</a>
                                    </li>
                                    <li class="page-item"><a class="page-link" href="#">Next</a></li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
                <!-- END BORROWED ITEMS LOG VIEW -->


                <!-- USER MANAGEMENT VIEW -->
                <div id="user-management-view" class="main-view" style="display: none;">
                    <div class="card content-panel">
                        <div class="card-body">
                            <h3 class="text-center mb-4 fw-bold form-title">User Management</h3>
                            <div class="mb-3">
                                <div class="input-group"> <span class="input-group-text"><i
                                            class="fas fa-search"></i></span> <input type="text" class="form-control"
                                        placeholder="Search users..."> </div>
                            </div>
                            <div class="table-responsive">
                                <table class="table table-hover align-middle">
                                    <thead class="table-dark-green">
                                        <tr>
                                            <th>Full Name</th>
                                            <th>Email</th>
                                            <th>Status</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Nurhana Aminulla</td>
                                            <td>na2024@wmsu.edu.ph</td>
                                            <td><span class="badge bg-success-light text-success">Active</span></td>
                                            <td> <button class="btn btn-sm btn-warning me-1" title="Edit"
                                                    data-bs-toggle="modal" data-bs-target="#editUserModal"
                                                    data-user-id="1" data-user-name="Nurhana Aminulla"
                                                    data-user-email="na2024@wmsu.edu.ph"><i
                                                        class="fas fa-user-edit me-1"></i>Edit</button> <button
                                                    class="btn btn-sm btn-info me-1" title="Deactivate"
                                                    data-bs-toggle="modal" data-bs-target="#confirmUserStatusModal"
                                                    data-user-id="1" data-user-name="Nurhana Aminulla"
                                                    data-action="deactivate"><i
                                                        class="fas fa-user-slash me-1"></i>Deactivate</button> <button
                                                    class="btn btn-sm btn-danger" title="Delete" data-bs-toggle="modal"
                                                    data-bs-target="#confirmUserDeleteModal" data-user-id="1"
                                                    data-user-name="Nurhana Aminulla"><i
                                                        class="fas fa-user-times me-1"></i>Delete</button> </td>
                                        </tr>
                                        <tr>
                                            <td>Jelord Bojos</td>
                                            <td>jb2024@wmsu.edu.ph</td>
                                            <td><span class="badge bg-success-light text-success">Active</span></td>
                                            <td> <button class="btn btn-sm btn-warning me-1" title="Edit"
                                                    data-bs-toggle="modal" data-bs-target="#editUserModal"
                                                    data-user-id="2" data-user-name="Jelord Bojos"
                                                    data-user-email="jb2024@wmsu.edu.ph"><i
                                                        class="fas fa-user-edit me-1"></i>Edit</button> <button
                                                    class="btn btn-sm btn-info me-1" title="Deactivate"
                                                    data-bs-toggle="modal" data-bs-target="#confirmUserStatusModal"
                                                    data-user-id="2" data-user-name="Jelord Bojos"
                                                    data-action="deactivate"><i
                                                        class="fas fa-user-slash me-1"></i>Deactivate</button> <button
                                                    class="btn btn-sm btn-danger" title="Delete" data-bs-toggle="modal"
                                                    data-bs-target="#confirmUserDeleteModal" data-user-id="2"
                                                    data-user-name="Jelord Bojos"><i
                                                        class="fas fa-user-times me-1"></i>Delete</button> </td>
                                        </tr>
                                        <tr>
                                            <td>Miko Zamora</td>
                                            <td>mz2024@wmsu.edu.ph</td>
                                            <td><span class="badge bg-secondary-light text-secondary">Inactive</span>
                                            </td>
                                            <td> <button class="btn btn-sm btn-warning me-1" title="Edit"
                                                    data-bs-toggle="modal" data-bs-target="#editUserModal"
                                                    data-user-id="3" data-user-name="Miko Zamora"
                                                    data-user-email="mz2024@wmsu.edu.ph"><i
                                                        class="fas fa-user-edit me-1"></i>Edit</button> <button
                                                    class="btn btn-sm btn-success me-1" title="Activate"
                                                    data-bs-toggle="modal" data-bs-target="#confirmUserStatusModal"
                                                    data-user-id="3" data-user-name="Miko Zamora"
                                                    data-action="activate"><i
                                                        class="fas fa-user-check me-1"></i>Activate</button> <button
                                                    class="btn btn-sm btn-danger" title="Delete" data-bs-toggle="modal"
                                                    data-bs-target="#confirmUserDeleteModal" data-user-id="3"
                                                    data-user-name="Miko Zamora"><i
                                                        class="fas fa-user-times me-1"></i>Delete</button> </td>
                                        </tr>
                                        <tr>
                                            <td>Inna Isnaji</td>
                                            <td>ii2024@wmsu.edu.ph</td>
                                            <td><span class="badge bg-success-light text-success">Active</span></td>
                                            <td> <button class="btn btn-sm btn-warning me-1" title="Edit"
                                                    data-bs-toggle="modal" data-bs-target="#editUserModal"
                                                    data-user-id="4" data-user-name="Inna Isnaji"
                                                    data-user-email="ii2024@wmsu.edu.ph"><i
                                                        class="fas fa-user-edit me-1"></i>Edit</button> <button
                                                    class="btn btn-sm btn-info me-1" title="Deactivate"
                                                    data-bs-toggle="modal" data-bs-target="#confirmUserStatusModal"
                                                    data-user-id="4" data-user-name="Inna Isnaji"
                                                    data-action="deactivate"><i
                                                        class="fas fa-user-slash me-1"></i>Deactivate</button> <button
                                                    class="btn btn-sm btn-danger" title="Delete" data-bs-toggle="modal"
                                                    data-bs-target="#confirmUserDeleteModal" data-user-id="4"
                                                    data-user-name="Inna Isnaji"><i
                                                        class="fas fa-user-times me-1"></i>Delete</button> </td>
                                        </tr>
                                        <tr>
                                            <td>Merson Cael</td>
                                            <td>hz202302657@wmsu.edu.ph</td>
                                            <td><span class="badge bg-success-light text-success">Active</span></td>
                                            <td> <button class="btn btn-sm btn-warning me-1" title="Edit"
                                                    data-bs-toggle="modal" data-bs-target="#editUserModal"
                                                    data-user-id="5" data-user-name="Merson Cael"
                                                    data-user-email="hz202302657@wmsu.edu.ph"><i
                                                        class="fas fa-user-edit me-1"></i>Edit</button> <button
                                                    class="btn btn-sm btn-info me-1" title="Deactivate"
                                                    data-bs-toggle="modal" data-bs-target="#confirmUserStatusModal"
                                                    data-user-id="5" data-user-name="Merson Cael"
                                                    data-action="deactivate"><i
                                                        class="fas fa-user-slash me-1"></i>Deactivate</button> <button
                                                    class="btn btn-sm btn-danger" title="Delete" data-bs-toggle="modal"
                                                    data-bs-target="#confirmUserDeleteModal" data-user-id="5"
                                                    data-user-name="Merson Cael"><i
                                                        class="fas fa-user-times me-1"></i>Delete</button> </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ACTIVITY LOG VIEW -->
                <div id="activity-log-view" class="main-view" style="display: none;">
                    <div class="card content-panel">
                        <div class="card-body">
                            <h3 class="text-center mb-4 fw-bold form-title">System Activity Log</h3>
                            <div class="mb-3 d-flex justify-content-between align-items-center flex-wrap gap-2">
                                <div> <label for="logFilterUserSimple" class="form-label visually-hidden">Filter by
                                        User</label> <select id="logFilterUserSimple"
                                        class="form-select form-select-sm d-inline-block w-auto me-2">
                                        <option value="">All Users</option>
                                        <option value="1">Admin Test</option>
                                        <option value="2">Jelord Bojos</option>
                                        <option value="3">Nurhana Aminulla</option>
                                    </select> </div>
                                <div class="input-group input-group-sm w-auto"> <span class="input-group-text"><i
                                            class="fas fa-search"></i></span> <input type="text" class="form-control"
                                        placeholder="Search log details..."> </div>
                            </div>
                            <ul class="list-group list-group-flush activity-log-list">
                                <li
                                    class="list-group-item d-flex justify-content-between align-items-start flex-wrap gap-2">
                                    <div> <i class="fas fa-clock text-muted me-1"></i> <strong>Nurhana Aminulla</strong>
                                        requested item <strong>#M01 A4Tech Mouse</strong>. </div> <small
                                        class="text-muted timestamp">2025-03-22 10:15:30</small>
                                </li>
                                <li
                                    class="list-group-item d-flex justify-content-between align-items-start flex-wrap gap-2">
                                    <div> <i class="fas fa-clock text-muted me-1"></i> <strong>Jelord Bojos</strong>
                                        requested item <strong>#L01 Lenovo Laptop</strong>. </div> <small
                                        class="text-muted timestamp">2025-03-21 14:05:11</small>
                                </li>
                                <li
                                    class="list-group-item d-flex justify-content-between align-items-start flex-wrap gap-2">
                                    <div> <i class="fas fa-undo text-muted me-1"></i> <strong>Jelord Bojos</strong>
                                        returned item <strong>#M01 A4Tech Mouse</strong>. </div> <small
                                        class="text-muted timestamp">2025-03-20 09:00:05</small>
                                </li>
                                <li
                                    class="list-group-item d-flex justify-content-between align-items-start flex-wrap gap-2">
                                    <div> <i class="fas fa-check-circle text-success me-1"></i> <strong>Admin
                                            Test</strong> approved request for <strong>#K01 A4Tech Keyboard</strong>
                                        (requested by Jelord Bojos). </div> <small
                                        class="text-muted timestamp">2025-03-19 11:30:00</small>
                                </li>
                                <li
                                    class="list-group-item d-flex justify-content-between align-items-start flex-wrap gap-2">
                                    <div> <i class="fas fa-exclamation-triangle text-danger me-1"></i> Item <strong>#P01
                                            Epson Projector</strong> (borrowed by Miko Zamora) was marked as
                                        <strong>Overdue</strong>. </div> <small class="text-muted timestamp">2025-03-17
                                        16:00:00</small>
                                </li>
                                <li
                                    class="list-group-item d-flex justify-content-between align-items-start flex-wrap gap-2">
                                    <div> <i class="fas fa-plus-circle text-info me-1"></i> <strong>Admin Test</strong>
                                        added new equipment <strong>#U01 APC UPS</strong> to inventory. </div> <small
                                        class="text-muted timestamp">2025-03-15 08:55:10</small>
                                </li>
                            </ul>
                            <nav aria-label="Activity log navigation" class="d-flex justify-content-end mt-3">
                                <ul class="pagination pagination-sm">
                                    <li class="page-item disabled"><a class="page-link" href="#" tabindex="-1"
                                            aria-disabled="true">Prev</a></li>
                                    <li class="page-item active" aria-current="page"><a class="page-link" href="#">1</a>
                                    </li>
                                    <li class="page-item"><a class="page-link" href="#">2</a></li>
                                    <li class="page-item"><a class="page-link" href="#">Next</a></li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>

                <!-- NOTIFICATIONS VIEW -->
                <div id="notifications-view" class="main-view" style="display: none;">
                    <div class="card content-panel">
                        <div class="card-body">
                            <h3 class="text-center mb-4 fw-bold form-title">Notifications</h3>
                            <div class="d-flex justify-content-between align-items-center mb-3 flex-wrap gap-2">
                                <div> <button class="btn btn-sm btn-outline-primary"><i
                                            class="fas fa-check-double me-1"></i> Mark all as read</button> </div>
                                <div class="d-flex gap-2"> <select class="form-select form-select-sm w-auto">
                                        <option selected>Filter by Type...</option>
                                        <option value="request">Borrow Request</option>
                                        <option value="return">Item Return</option>
                                        <option value="overdue">Overdue Item</option>
                                        <option value="system">System Alert</option>
                                    </select> <select class="form-select form-select-sm w-auto">
                                        <option selected>Show: Unread</option>
                                        <option value="all">Show: All</option>
                                        <option value="read">Show: Read</option>
                                    </select> </div>
                            </div>
                            <ul class="list-group list-group-flush notification-list">
                                <li
                                    class="list-group-item list-group-item-action d-flex justify-content-between align-items-start bg-light-subtle">
                                    <div>
                                        <div class="fw-bold"><i class="fas fa-clipboard-list text-primary me-2"></i>New
                                            Borrow Request</div> <small>Student 'Nurhana Aminulla' requested item '#M01
                                            A4Tech Mouse'.</small>
                                    </div>
                                    <div class="text-end"> <small class="text-muted d-block mb-1">3 hours ago</small>
                                        <button class="btn btn-sm btn-outline-secondary p-1 lh-1"
                                            title="Mark as read"><i class="far fa-envelope-open"></i></button> <a
                                            href="#borrow-requests-view" data-tab-target="pending-tab"
                                            class="btn btn-sm btn-outline-primary p-1 lh-1 sidebar-link view-notification-link"
                                            title="View Request"><i class="fas fa-eye"></i></a> </div>
                                </li>
                                <li
                                    class="list-group-item list-group-item-action d-flex justify-content-between align-items-start bg-light-subtle">
                                    <div>
                                        <div class="fw-bold"><i
                                                class="fas fa-exclamation-triangle text-danger me-2"></i>Overdue Item
                                            Alert</div> <small>Item '#P01 Epson Projector' borrowed by 'Miko Zamora' is
                                            now overdue.</small>
                                    </div>
                                    <div class="text-end"> <small class="text-muted d-block mb-1">1 day ago</small>
                                        <button class="btn btn-sm btn-outline-secondary p-1 lh-1"
                                            title="Mark as read"><i class="far fa-envelope-open"></i></button> <a
                                            href="#borrow-requests-view" data-tab-target="approved-tab"
                                            class="btn btn-sm btn-outline-primary p-1 lh-1 sidebar-link view-notification-link"
                                            title="View Details"><i class="fas fa-eye"></i></a> </div>
                                </li>
                                <li
                                    class="list-group-item list-group-item-action d-flex justify-content-between align-items-start text-muted">
                                    <div>
                                        <div class="fw-normal"><i class="fas fa-undo me-2"></i>Item Returned</div>
                                        <small>Item '#M01 A4Tech Mouse' was returned by 'Jelord Bojos'.</small>
                                    </div>
                                    <div class="text-end"> <small class="d-block mb-1">2 days ago</small> <a
                                            href="#borrowed-items-view"
                                            class="btn btn-sm btn-outline-secondary p-1 lh-1 sidebar-link"
                                            title="View History"><i class="fas fa-history"></i></a> </div>
                                </li>
                                <li
                                    class="list-group-item list-group-item-action d-flex justify-content-between align-items-start text-muted">
                                    <div>
                                        <div class="fw-normal"><i
                                                class="fas fa-check-circle text-success me-2"></i>Request Approved</div>
                                        <small>Request for '#K01 A4Tech Keyboard' (Jelord Bojos) was approved.</small>
                                    </div>
                                    <div class="text-end"> <small class="d-block mb-1">3 days ago</small> <a
                                            href="#borrow-requests-view" data-tab-target="approved-tab"
                                            class="btn btn-sm btn-outline-secondary p-1 lh-1 sidebar-link view-notification-link"
                                            title="View Details"><i class="fas fa-history"></i></a> </div>
                                </li>
                            </ul>
                            <nav aria-label="Notification navigation" class="d-flex justify-content-end mt-3">
                                <ul class="pagination pagination-sm">
                                    <li class="page-item disabled"><a class="page-link" href="#" tabindex="-1"
                                            aria-disabled="true">Prev</a></li>
                                    <li class="page-item active" aria-current="page"><a class="page-link" href="#">1</a>
                                    </li>
                                    <li class="page-item"><a class="page-link" href="#">2</a></li>
                                    <li class="page-item"><a class="page-link" href="#">Next</a></li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>

                <!-- SETTINGS VIEW -->
                <div id="settings-view" class="main-view" style="display: none;">
                    <div class="card content-panel">
                        <div class="card-body p-4 p-md-5">
                            <h3 class="text-center mb-4 fw-bold form-title">Settings</h3>
                            <form>
                                <h5 class="mb-3 section-title">Profile Settings</h5>
                                <div class="row g-3 mb-4">
                                    <div class="col-md-6"> <label for="adminName" class="form-label">Admin Name</label>
                                        <input type="text" class="form-control" id="adminName" value="Admin Test"
                                            placeholder="Your Name"> </div>
                                    <div class="col-md-6"> <label for="adminEmail" class="form-label">Email
                                            Address</label> <input type="email" class="form-control" id="adminEmail"
                                            value="admin@test" placeholder="your.email@example.com" readonly> <small
                                            class="text-muted">Email cannot be changed here.</small> </div>
                                    <div class="col-md-6"> <label for="adminNewPassword" class="form-label">New Password
                                            (Optional)</label> <input type="password" class="form-control"
                                            id="adminNewPassword" placeholder="Leave blank to keep current"> </div>
                                    <div class="col-md-6"> <label for="adminConfirmPassword" class="form-label">Confirm
                                            New Password</label> <input type="password" class="form-control"
                                            id="adminConfirmPassword" placeholder="Confirm new password"> </div>
                                    <div class="col-12"> <label for="adminAvatar" class="form-label">Change
                                            Avatar</label> <input class="form-control" type="file" id="adminAvatar">
                                    </div>
                                </div>
                                <hr>
                                <h5 class="mb-3 mt-4 section-title">System Preferences</h5>
                                <div class="row g-3 mb-4">
                                    <div class="col-md-6"> <label for="borrowLimit" class="form-label">Max Items Per
                                            User</label> <input type="number" class="form-control" id="borrowLimit"
                                            value="3" min="1"> </div>
                                    <div class="col-md-6"> <label for="defaultLoanDays" class="form-label">Default
                                            Borrow Duration (Days)</label> <input type="number" class="form-control"
                                            id="defaultLoanDays" value="7" min="1"> </div>
                                </div>
                                <hr>
                                <h5 class="mb-3 mt-4 section-title">Notification Preferences</h5>
                                <div class="form-check mb-2"> <input class="form-check-input" type="checkbox" value=""
                                        id="notifyNewRequest" checked> <label class="form-check-label"
                                        for="notifyNewRequest"> Notify on New Borrow Request </label> </div>
                                <div class="form-check mb-2"> <input class="form-check-input" type="checkbox" value=""
                                        id="notifyOverdueAdmin" checked> <label class="form-check-label"
                                        for="notifyOverdueAdmin"> Notify Admin on Overdue Items </label> </div>
                                <div class="form-check mb-4"> <input class="form-check-input" type="checkbox" value=""
                                        id="notifyUserReturn"> <label class="form-check-label" for="notifyUserReturn">
                                        Notify User on Item Return Confirmation </label> </div>
                                <div class="text-center mt-4"> <button type="submit"
                                        class="btn btn-success btn-lg fw-bold"><i class="fas fa-save me-2"></i>Save
                                        Settings</button> </div>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- Removed old view divs -->

            </main>

            <!-- Footer -->
            <footer class="footer mt-auto py-3 text-center">
                <small>© 2025 CCS Admin Panel | CCSIELS</small>
            </footer>

        </div> <!--End Content Wrapper -->
    </div> <!--end dashboard Layout-->

    <!--                          MODALS                               -->

    <!-- Add Equipment Modal -->
    <div class="modal fade" id="addEquipmentModal" tabindex="-1" aria-labelledby="addEquipmentModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addEquipmentModalLabel">Add New Equipment</h5> <button type="button"
                        class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="addEquipmentForm">
                        <div class="row g-3">
                            <div class="col-md-6 mb-3"> <label for="addItemName" class="form-label">Item name *</label>
                                <input type="text" class="form-control" id="addItemName" required> </div>
                            <div class="col-md-6 mb-3"> <label for="addItemCode" class="form-label">Item Code *</label>
                                <input type="text" class="form-control" id="addItemCode" placeholder="e.g., L04, P06"
                                    required> <small class="text-muted">Unique identifier for the equipment
                                    type.</small> </div>
                            <div class="col-md-6 mb-3"> <label for="addItemCategory" class="form-label">Category
                                    *</label> <select class="form-select" id="addItemCategory" required>
                                    <option selected disabled value="">Select Category...</option>
                                    <option value="laptop">Laptop</option>
                                    <option value="projector">Projector</option>
                                    <option value="cable">Cable</option>
                                    <option value="mouse">Mouse</option>
                                    <option value="keyboard">Keyboard</option>
                                    <option value="ups">UPS</option>
                                    <option value="other">Other</option>
                                </select> </div>
                            <div class="col-md-6 mb-3"> <label for="addItemBrand" class="form-label">Brand/Model</label>
                                <input type="text" class="form-control" id="addItemBrand"> </div>
                            <div class="col-md-6 mb-3"> <label for="addItemQuantity" class="form-label">Total Quantity
                                    *</label> <input type="number" class="form-control" id="addItemQuantity" required
                                    min="1" value="1"> </div>
                            <div class="col-md-6 mb-3"> <label for="addItemInitialCondition" class="form-label">Initial
                                    Condition *</label> <select class="form-select" id="addItemInitialCondition"
                                    required>
                                    <option selected disabled value="">Select Condition...</option>
                                    <option value="new">New</option>
                                    <option value="good">Good</option>
                                    <option value="fair">Fair</option>
                                </select> </div>
                            <div class="col-md-6 mb-3"> <label for="addItemSerial" class="form-label">Serial
                                    Code(s)</label> <input type="text" class="form-control" id="addItemSerial"
                                    placeholder="Optional, comma-separated if quantity > 1"> </div>
                            <div class="col-md-6 mb-3"> <label for="addItemImage" class="form-label">Upload
                                    Image</label> <input class="form-control" type="file" id="addItemImage"
                                    accept="image/*"> </div>
                            <div class="col-12 mb-3"> <label for="addItemRemarks"
                                    class="form-label">Remarks/Notes</label> <textarea class="form-control"
                                    id="addItemRemarks" rows="3"></textarea> </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer"> <button type="button" class="btn btn-secondary"
                        data-bs-dismiss="modal">Cancel</button> <button type="submit" form="addEquipmentForm"
                        class="btn btn-success">Add Equipment</button> </div>
            </div>
        </div>
    </div>

    <!-- View Request Details Modal -->
    <div class="modal fade" id="viewRequestDetailsModal" tabindex="-1" aria-labelledby="viewRequestDetailsModalLabel"
        aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="viewRequestDetailsModalLabel">Request Details</h5> <button type="button"
                        class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <dl class="row">
                        <dt class="col-sm-4">Request ID:</dt>
                        <dd class="col-sm-8" id="detailRequestId"></dd>
                        <dt class="col-sm-4">Student:</dt>
                        <dd class="col-sm-8" id="detailStudentName"></dd>
                        <dt class="col-sm-4">Item:</dt>
                        <dd class="col-sm-8" id="detailItemName"></dd>
                        <dt class="col-sm-4">Date Needed:</dt>
                        <dd class="col-sm-8" id="detailDateNeeded"></dd>
                        <dt class="col-sm-4">Return Date:</dt>
                        <dd class="col-sm-8" id="detailReturnDate"></dd>
                        <dt class="col-sm-4">Purpose:</dt>
                        <dd class="col-sm-8" id="detailPurpose" style="white-space: pre-wrap;"></dd>
                    </dl>
                </div>
                <div class="modal-footer"> <button type="button" class="btn btn-secondary"
                        data-bs-dismiss="modal">Close</button> </div>
            </div>
        </div>
    </div>

    <!-- Edit Equipment Modal (General Info) -->
    <div class="modal fade" id="editEquipmentModal" tabindex="-1" aria-labelledby="editEquipmentModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editEquipmentModalLabel">Edit Equipment General Info</h5> <button
                        type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="editEquipmentForm"> <input type="hidden" id="editItemId">
                        <div class="row g-3">
                            <div class="col-md-6 mb-3"> <label for="editItemName" class="form-label">Item name *</label>
                                <input type="text" class="form-control" id="editItemName" required> </div>
                            <div class="col-md-6 mb-3"> <label for="editItemCode" class="form-label">Item code</label>
                                <input type="text" class="form-control" id="editItemCode" readonly disabled>
                                <small>Cannot change item code here.</small> </div>
                            <div class="col-md-6 mb-3"> <label for="editItemCategory" class="form-label">Category
                                    *</label> <select class="form-select" id="editItemCategory" required>
                                    <option disabled value="">Select Category</option>
                                    <option value="laptop">Laptop</option>
                                    <option value="projector">Projector</option>
                                    <option value="cable">Cable</option>
                                    <option value="mouse">Mouse</option>
                                    <option value="keyboard">Keyboard</option>
                                    <option value="ups">UPS</option>
                                    <option value="other">Other</option>
                                </select> </div>
                            <div class="col-md-6 mb-3"> <label for="editItemBrand"
                                    class="form-label">Brand/Model</label> <input type="text" class="form-control"
                                    id="editItemBrand"> </div>
                            <div class="col-md-6 mb-3"> <label for="editItemQuantity" class="form-label">Total Quantity
                                    *</label> <input type="number" class="form-control" id="editItemQuantity" required
                                    min="0"> </div>
                            <div class="col-md-6 mb-3"> <label for="editItemSerial" class="form-label">Serial
                                    Code(s)</label> <input type="text" class="form-control" id="editItemSerial"
                                    placeholder="Comma-separated"> </div>
                            <div class="col-md-6 mb-3"> <label class="form-label">Current Image</label>
                                <div id="editImagePreview" class="mb-2 text-center"
                                    style="min-height: 100px; border: 1px dashed #ccc; padding: 5px;"> <img src=""
                                        alt="Current Image" style="max-height: 150px; max-width: 100%; display: none;">
                                    <span class="text-muted">No image available</span> </div> <label for="editItemImage"
                                    class="form-label">Change Image (Optional)</label> <input class="form-control"
                                    type="file" id="editItemImage" accept="image/*">
                            </div>
                            <div class="col-12 mb-3"> <label for="editItemRemarks"
                                    class="form-label">Remarks/Notes</label> <textarea class="form-control"
                                    id="editItemRemarks" rows="3"></textarea> </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer"> <button type="button" class="btn btn-secondary"
                        data-bs-dismiss="modal">Close</button> <button type="button" class="btn btn-primary"
                        id="saveEquipmentChangesBtn">Save Changes</button> </div>
            </div>
        </div>
    </div>

    <!-- View Stock Details Modal -->
    <div class="modal fade" id="viewStockDetailsModal" tabindex="-1" aria-labelledby="viewStockDetailsModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="viewStockDetailsModalLabel">Stock Details for <span
                            id="stockDetailItemName">Item</span></h5> <button type="button" class="btn-close"
                        data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Detailed status for each individual unit (<strong id="stockDetailItemCode">CODE</strong>):</p>
                    <div class="table-responsive">
                        <table class="table table-sm table-bordered">
                            <thead class="table-light">
                                <tr>
                                    <th>Unit ID / Serial #</th>
                                    <th>Status</th>
                                    <th>Condition</th>
                                    <th>Current Borrower</th>
                                    <th>Due Date</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="stockDetailsTableBody"> <!-- Populated by JavaScript --> </tbody>
                        </table>
                    </div> <small class="text-muted">*This requires backend integration for actual unit data.</small>
                </div>
                <div class="modal-footer"> <button type="button" class="btn btn-sm btn-success"><i
                            class="fas fa-plus me-1"></i> Add Unit</button> <button type="button"
                        class="btn btn-secondary" data-bs-dismiss="modal">Close</button> </div>
            </div>
        </div>
    </div>

    <!-- View Return Details & Confirm Modal -->
    <div class="modal fade" id="viewReturnDetailsModal" tabindex="-1" aria-labelledby="viewReturnDetailsModalLabel"
        aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="viewReturnDetailsModalLabel">Confirm Item Return</h5> <button
                        type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Please confirm the return of item <strong id="viewReturnItemName">Item Name</strong> by <strong
                            id="viewReturnStudentName">Student</strong>.</p>
                    <hr>
                    <h6>Borrower's Return Details:</h6>
                    <dl class="row mb-0">
                        <dt class="col-sm-4">Condition:</dt>
                        <dd class="col-sm-8" id="viewReturnCondition"></dd>
                        <dt class="col-sm-4">Notes/Reason:</dt>
                        <dd class="col-sm-8" id="viewReturnNotes" style="white-space: pre-wrap;"></dd>
                    </dl> <input type="hidden" id="viewReturnBorrowId">
                </div>
                <div class="modal-footer"> <button type="button" class="btn btn-secondary"
                        data-bs-dismiss="modal">Cancel</button> <button type="button" class="btn btn-primary"
                        id="confirmReturnAcknowledgeBtn">Acknowledge & Confirm Return</button> </div>
            </div>
        </div>
    </div>

    <!-- Edit User Modal -->
    <div class="modal fade" id="editUserModal" tabindex="-1" aria-labelledby="editUserModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editUserModalLabel">Edit User</h5> <button type="button"
                        class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="editUserForm"> <input type="hidden" id="editUserId">
                        <div class="mb-3"> <label for="editUserName" class="form-label">Full Name</label> <input
                                type="text" class="form-control" id="editUserName" required> </div>
                        <div class="mb-3"> <label for="editUserEmail" class="form-label">Email address</label> <input
                                type="email" class="form-control" id="editUserEmail" required> </div>
                    </form>
                </div>
                <div class="modal-footer"> <button type="button" class="btn btn-secondary"
                        data-bs-dismiss="modal">Close</button> <button type="button" class="btn btn-primary"
                        id="saveUserChangesBtn">Save changes</button> </div>
            </div>
        </div>
    </div>

    <!-- Confirm User Status Change -->
    <div class="modal fade" id="confirmUserStatusModal" tabindex="-1" aria-labelledby="confirmUserStatusModalLabel"
        aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="confirmUserStatusModalLabel">Confirm Status Change</h5> <button
                        type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Are you sure you want to <strong id="userStatusAction"></strong> user <strong
                            id="userStatusName"></strong>?</p> <input type="hidden" id="confirmStatusUserId"> <input
                        type="hidden" id="confirmStatusAction">
                </div>
                <div class="modal-footer"> <button type="button" class="btn btn-secondary"
                        data-bs-dismiss="modal">Cancel</button> <button type="button" class="btn btn-primary"
                        id="confirmUserStatusBtn">Confirm</button> </div>
            </div>
        </div>
    </div>

    <!-- Confirm User Delete -->
    <div class="modal fade" id="confirmUserDeleteModal" tabindex="-1" aria-labelledby="confirmUserDeleteModalLabel"
        aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="confirmUserDeleteModalLabel">Confirm User Deletion</h5> <button
                        type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p class="text-danger fw-bold">Warning!</p>
                    <p>Are you sure you want to permanently delete user <strong id="userDeleteName"></strong>?</p>
                    <p>This action cannot be undone.</p> <input type="hidden" id="confirmDeleteUserId">
                </div>
                <div class="modal-footer"> <button type="button" class="btn btn-secondary"
                        data-bs-dismiss="modal">Cancel</button> <button type="button" class="btn btn-danger"
                        id="confirmUserDeleteBtn">Delete User</button> </div>
            </div>
        </div>
    </div>

    <!-- Logout Confirmation Modal -->
    <div class="modal fade" id="logoutConfirmationModal" tabindex="-1" aria-labelledby="logoutConfirmationModalLabel"
        aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="logoutConfirmationModalLabel">Confirm Logout</h5> <button type="button"
                        class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body"> Are you sure you want to log out? </div>
                <div class="modal-footer"> <button type="button" class="btn btn-secondary"
                        data-bs-dismiss="modal">Cancel</button> <button type="button" class="btn btn-primary"
                        id="confirmLogoutBtn">Log Out</button> </div>
            </div>
        </div>
    </div>


    <!-- Scripts -->

    <script src="assets/js/jquery-3.7.1.min.js"></script>
    <script src="assets/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/script.js"></script>

</body>

</html>
