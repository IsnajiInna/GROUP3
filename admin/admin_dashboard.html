<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CCSIELS Admin Panel</title>

    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">

    <link href="assets/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">

    <link rel="stylesheet" href="assets/css/admindash_style.css">

</head>
<body>
    <!--            SIDEBAR               -->
    <div class="dashboard-layout">
       <div class="overlay"></div>
               <nav id="sidebar">
                <div class="sidebar-header">
                    <h3>Admin Panel</h3>
                </div>

                <ul class="list-unstyled components">
                    <li class="active">
                        <a href="#dashboard-view" class="sidebar-link">
                            <i class="fas fa-tachometer-alt fa-fw me-2"></i>Dashboard
                        </a>
                    </li>
                    <li>
                        <a href="#manageEquipmentSubmenu" data-bs-toggle="collapse" aria-expanded="false" class=" sidebar-link">
                            <i class="fas fa-tools fa-fw me-2"></i>Manage Equipment
                        </a>
                        <ul class="collapse list-unstyled" id="manageEquipmentSubmenu">
                            <li><a href="#add-equipment-view" class="sidebar-link sub-link"><i class="fas fa-plus fa-fw me-2"></i>Add new Equipment</a></li>
                            <li><a href="#view-equipment-view" class="sidebar-link sub-link"><i class="fas fa-edit fa-fw me-2"></i>View/Edit Equipment</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#borrowRequestSubmenu" data-bs-toggle="collapse" aria-expanded="false" class="sidebar-link">
                            <i class="fas fa-clipboard-list fa-fw me-2"></i>Borrow Request
                        </a>
                        <ul class="collapse list-unstyled" id="borrowRequestSubmenu">
                            <li><a href="#pending-requests-view" class="sidebar-link sub-link"><i class="fas fa-clock fa-fw me-2"></i>Pending approvals</a></li>
                            <li><a href="#approved-requests-view" class="sidebar-link sub-link"><i class="fas fa-check-circle fa-fw me-2"></i>Approved</a></li>
                            <li><a href="#rejected-requests-view" class="sidebar-link sub-link"><i class="fas fa-times-circle fa-fw me-2"></i>Rejected</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#borrowed-items-view" class="sidebar-link">
                            <i class="fas fa-box-open fa-fw me-2"></i>Borrowed Items
                        </a>
                    </li>
                    <li>
                        <a href="#user-management-view" class="sidebar-link">
                            <i class="fas fa-users-cog fa-fw me-2"></i>User Management
                        </a>
                    </li>
                    <li>
                        <a href="#activity-log-view" class="sidebar-link">
                            <i class="fas fa-history fa-fw me-2"></i>Activity Log
                        </a>
                    </li>
                </ul>

                <ul class="list-unstyled bottom-links">
                    <li>
                        <a href="#settings-view" class="sidebar-link">
                            <i class="fas fa-cog fa-fw me-2"></i>Settings
                        </a>
                    </li>
                    <li>
                     
                        <a href="adminLogoutConfirmation.html" id="logout-link" class="sidebar-link">
                            <i class="fas fa-sign-out-alt fa-fw me-2"></i>Log out
                        </a>
                    </li>
                </ul>
            </nav>

        <!-- CONTENT WRAPPER -->
        <div id="content-wrapper">
            <!-- Top Navbar -->
             <nav id="top-navbar" class="navbar navbar-expand-lg navbar-light bg-white">
                 <div class="container-fluid">
                     <!-- Mobile Sidebar Toggle -->
                     <button type="button" id="sidebarCollapse" class="btn btn-primary d-lg-none">
                        <i class="fas fa-bars"></i>
                    </button>
                   <a class="navbar-brand" href="#dashboard-view">
                        <!-- *** UPDATED PATH *** -->
                        <img src="images/Group 3 Logo.png" alt="CCSIELS Logo" class="navbar-logo-img">
                    </a>
                    <div class="ms-auto d-flex align-items-center">

                        <form class="d-none d-md-flex me-3" role="search">
                            <div class="input-group input-group-sm">
                                <span class="input-group-text bg-light border-end-0" id="basic-addon1"><i class="fas fa-search"></i></span>
                                <input class="form-control form-control-sm border-start-0" type="search" placeholder="Search" aria-label="Search" aria-describedby="basic-addon1">
                            </div>
                        </form>
                        <div class="nav-item me-3">
                            <a class="nav-link position-relative sidebar-link" href="#notifications-view" title="Notifications">
                                <i class="fas fa-bell fs-5 text-secondary"></i>
                             </a>
                        </div>

                        <div class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle d-flex align-items-center" href="#" id="profileDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                <img src="images/userprof.jpg" alt="Admin Avatar" class="rounded-circle me-2" width="30" height="30">
                                Admin Test
                            </a>
                            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="profileDropdown">
                                <li><a class="dropdown-item sidebar-link" href="#settings-view"><i class="fas fa-cog fa-fw me-2"></i>Settings</a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item" href="adminLogoutConfirmation.html" id="logout-link-top"><i class="fas fa-sign-out-alt fa-fw me-2"></i>Logout</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </nav>

            <!--MAIN CONTENT-->
            <main id="main-content" class="p-3 p-md-4">

                 <!--DASHBOARD VIEW-->
                 <div id="dashboard-view" class="main-view">
                    <h1 class="h3 mb-4">Welcome, Admin!</h1>

                    <div class="row g-3 mb-4">
                        <div class="col-md-6 col-xl-3">
                            <div class="card dashboard-card bg-primary text-white h-100">
                                <div class="card-body d-flex align-items-center">
                                    <i class="fas fa-box fa-3x me-3"></i>
                                    <div>
                                        <div class="fs-1 fw-bold">6</div>
                                        <div class="text-uppercase small">Total Items</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 col-xl-3">
                            <div class="card dashboard-card bg-success text-white h-100">
                                <div class="card-body d-flex align-items-center">
                                    <i class="fas fa-people-carry fa-3x me-3"></i>
                                    <div>
                                        <div class="fs-1 fw-bold">3</div>
                                        <div class="text-uppercase small">Total Items Borrowed</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 col-xl-3">
                            <div class="card dashboard-card bg-warning text-dark h-100">
                                <div class="card-body d-flex align-items-center">
                                    <i class="fas fa-clock fa-3x me-3"></i>
                                    <div>
                                        <div class="fs-1 fw-bold">2</div>
                                        <div class="text-uppercase small">Pending Requests</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 col-xl-3">
                             <div class="card dashboard-card bg-danger text-white h-100">
                                <div class="card-body d-flex align-items-center">
                                     <i class="fas fa-exclamation-triangle fa-3x me-3"></i>
                                    <div>
                                        <div class="fs-1 fw-bold">1</div>
                                        <div class="text-uppercase small">Overdue Item</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Activity -->
                    <div class="card content-panel mb-4">
                        <div class="card-header">
                           <h5 class="mb-0">Recent Activity</h5>
                        </div>
                        <div class="card-body">
                            <ul class="list-group list-group-flush activity-log">
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    <div><i class="fas fa-clock text-warning me-2"></i> New request from 'Nurhana Aminulla' for item '#M01 A4Tech Mouse'.</div>
                                    <span class="text-muted small">3 hours ago</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                     <div><i class="fas fa-clock text-warning me-2"></i> New request from 'Jelord Bojos' for item '#L01 Lenovo Laptop'.</div>
                                    <span class="text-muted small">Yesterday</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                     <div><i class="fas fa-undo text-secondary me-2"></i> Item '#M01 A4Tech Mouse' returned by 'Jelord Bojos'.</div>
                                     <span class="text-muted small">2 days ago</span>
                                </li>
                                 <li class="list-group-item d-flex justify-content-between align-items-center">
                                    <div><i class="fas fa-check-circle text-success me-2"></i> Request for '#K01 A4Tech Keyboard' approved for 'Jelord Bojos'.</div>
                                    <span class="text-muted small">3 days ago</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    <div><i class="fas fa-exclamation-triangle text-danger me-2"></i> Item '#P01 Epson Projector' borrowed by 'Miko Zamora' is now overdue.</div>
                                    <span class="text-muted small">4 days ago</span>
                                </li>
                                 <li class="list-group-item d-flex justify-content-between align-items-center">
                                    <div><i class="fas fa-plus-circle text-info me-2"></i> New equipment '#U01 APC UPS' added to inventory.</div>
                                    <span class="text-muted small">5 days ago</span>
                                </li>
                            </ul>
                             <div class="text-center mt-3">
                                <a href="#activity-log-view" class="btn btn-sm btn-outline-secondary sidebar-link">View Full Activity Log</a>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Actions-->
                    <div class="card content-panel">
                         <div class="card-header">
                           <h5 class="mb-0">Quick Actions: Pending Requests</h5>
                        </div>
                        <div class="card-body quick-actions-list">

                             <div class="d-flex justify-content-between align-items-center border-bottom pb-2 mb-2">
                                <div>
                                    <div class="fw-bold">#L01 Lenovo Laptop</div>
                                    <small class="text-muted">Requested by: Jelord Bojos</small><br>
                                    <small class="text-muted">Purpose: Project Defense</small>
                                </div>
                                <div class="btn-group btn-group-sm" role="group">
                                    <button type="button" class="btn btn-success" title="Approve Request"><i class="fas fa-check"></i></button>
                                    <button type="button" class="btn btn-danger" title="Reject Request"><i class="fas fa-times"></i></button>
                                    <button type="button" class="btn btn-secondary" title="View Details" data-bs-toggle="modal" data-bs-target="#viewRequestDetailsModal" data-request-id="P1" data-student="Jelord Bojos" data-item="#L01 Lenovo Laptop" data-purpose="Project Defense for Capstone II subject, scheduled presentation." data-needed="3/21/2025" data-return="3/24/2025"><i class="fas fa-eye"></i></button>
                                </div>
                            </div>

                             <div class="d-flex justify-content-between align-items-center border-bottom pb-2 mb-2">
                                 <div>
                                    <div class="fw-bold">#M01 A4Tech Mouse</div>
                                    <small class="text-muted">Requested by: Nurhana Aminulla</small><br>
                                    <small class="text-muted">Purpose: Lab Activity</small>
                                </div>
                                <div class="btn-group btn-group-sm" role="group">
                                     <button type="button" class="btn btn-success" title="Approve Request"><i class="fas fa-check"></i></button>
                                     <button type="button" class="btn btn-danger" title="Reject Request"><i class="fas fa-times"></i></button>
                                     <button type="button" class="btn btn-secondary" title="View Details" data-bs-toggle="modal" data-bs-target="#viewRequestDetailsModal" data-request-id="P2" data-student="Nurhana Aminulla" data-item="#M01 A4Tech Mouse" data-purpose="Required for Programming Laboratory activity during class hours." data-needed="3/22/2025" data-return="3/22/2025"><i class="fas fa-eye"></i></button>
                                </div>
                            </div>



                             <div class="text-center mt-3">
                                <a href="#pending-requests-view" class="btn btn-sm btn-outline-primary sidebar-link">View All Pending Requests</a>
                            </div>
                        </div>
                    </div>


                    <div class="background-logo">
                        <!-- Image loaded via CSS -->
                    </div>
                </div>

                <!-- ADD EQUIPMENT VIEW -->
                <div id="add-equipment-view" class="main-view" style="display: none;">
                     <div class="card content-panel mx-auto" style="max-width: 600px;">
                        <div class="card-body p-4 p-md-5">
                            <h3 class="text-center mb-4 fw-bold form-title">Add new equipment</h3>
                            <form>
                                <div class="mb-3">
                                    <label for="itemName" class="form-label">Item name</label>
                                    <input type="text" class="form-control" id="itemName" required>
                                </div>
                                <div class="mb-3">
                                    <label for="itemCategory" class="form-label">Category</label>
                                    <select class="form-select" id="itemCategory" required>
                                        <option selected disabled value="">Select Category</option>
                                        <option value="laptop">Laptop</option>
                                        <option value="projector">Projector</option>
                                        <option value="cable">Cable</option>
                                        <option value="mouse">Mouse</option>
                                        <option value="keyboard">Keyboard</option>
                                        <option value="ups">UPS</option>
                                        <option value="other">Other</option>
                                    </select>
                                </div>
                                <div class="mb-3">
                                    <label for="itemBrand" class="form-label">Brand/Model</label>
                                    <input type="text" class="form-control" id="itemBrand">
                                </div>
                                <div class="mb-3">
                                    <label for="itemQuantity" class="form-label">Quantity Available</label>
                                    <input type="number" class="form-control" id="itemQuantity" required min="0">
                                </div>
                                <div class="mb-3">
                                    <label for="itemSerial" class="form-label">Serial Code</label>
                                    <input type="text" class="form-control" id="itemSerial">
                                </div>
                                <div class="mb-3">
                                    <label for="itemCode" class="form-label">Item code</label>
                                    <input type="text" class="form-control" id="itemCode" required>
                                </div>
                                <div class="mb-3">
                                    <label for="itemCondition" class="form-label">Condition</label>
                                     <select class="form-select" id="itemCondition" required>
                                        <option selected disabled value="">Select Condition</option>
                                        <option value="new">New</option>
                                        <option value="good">Good</option>
                                        <option value="fair">Fair</option>
                                        <option value="poor">Poor</option>
                                    </select>
                                </div>
                                <div class="mb-3">
                                    <label for="itemImage" class="form-label">Upload Image</label>
                                    <input class="form-control" type="file" id="itemImage">
                                </div>
                                <div class="mb-4">
                                    <label for="itemRemarks" class="form-label">Remarks/Notes</label>
                                    <textarea class="form-control" id="itemRemarks" rows="3"></textarea>
                                </div>
                                <div class="d-grid">
                                    <button type="submit" class="btn btn-success btn-lg fw-bold">Add Item</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- VIEW/EDIT EQUIPMENT -->
                <div id="view-equipment-view" class="main-view" style="display: none;">
                     <div class="card content-panel">
                         <div class="card-body">
                             <h3 class="text-center mb-4 fw-bold form-title">View & Edit Equipment</h3>
                              <div class="mb-3">
                                 <div class="input-group">
                                     <span class="input-group-text"><i class="fas fa-search"></i></span>
                                     <input type="text" class="form-control" placeholder="Search equipment...">
                                 </div>
                             </div>
                             <div class="table-responsive">
                                 <table class="table table-hover align-middle">
                                     <thead class="table-dark-green">
                                         <tr>
                                             <th>Item code and name</th>
                                             <th>Category</th>
                                             <th>Quantity</th>
                                             <th>Status</th>
                                             <th>Actions</th>
                                         </tr>
                                     </thead>
                                     <tbody>

                                         <tr>
                                             <td>#L01 Lenovo Laptop</td>
                                             <td>Laptop</td>
                                             <td>3</td>
                                             <td><span class="badge bg-success-light text-success">Available</span></td>
                                             <td>
                                                 <button class="btn btn-sm btn-warning me-1" title="Edit" data-bs-toggle="modal" data-bs-target="#editEquipmentModal" data-item-id="L01" data-item-name="Lenovo Laptop" data-item-category="Laptop" data-item-quantity="3" data-item-status="Available">
                                                     <i class="fas fa-edit me-1"></i>Edit
                                                 </button>
                                                 <button class="btn btn-sm btn-danger" title="Delete"><i class="fas fa-trash me-1"></i>Delete</button>
                                             </td>
                                         </tr>

                                         <tr>
                                             <td>#P01 Epson Projector</td>
                                             <td>Projector</td>
                                             <td>5</td>
                                             <td><span class="badge bg-success-light text-success">Available</span></td>
                                             <td>
                                                 <button class="btn btn-sm btn-warning me-1" title="Edit" data-bs-toggle="modal" data-bs-target="#editEquipmentModal" data-item-id="P01" data-item-name="Epson Projector" data-item-category="Projector" data-item-quantity="5" data-item-status="Available">
                                                     <i class="fas fa-edit me-1"></i>Edit
                                                 </button>
                                                 <button class="btn btn-sm btn-danger" title="Delete"><i class="fas fa-trash me-1"></i>Delete</button>
                                             </td>
                                         </tr>

                                          <tr>
                                             <td>#C01 HDMI Cable</td>
                                             <td>Cable</td>
                                             <td>3</td>
                                             <td><span class="badge bg-success-light text-success">Available</span></td>
                                              <td>
                                                 <button class="btn btn-sm btn-warning me-1" title="Edit" data-bs-toggle="modal" data-bs-target="#editEquipmentModal" data-item-id="C01" data-item-name="HDMI Cable" data-item-category="Cable" data-item-quantity="3" data-item-status="Available"><i class="fas fa-edit me-1"></i>Edit</button>
                                                 <button class="btn btn-sm btn-danger" title="Delete"><i class="fas fa-trash me-1"></i>Delete</button>
                                             </td>
                                         </tr>
                                          <tr>
                                             <td>#M01 A4Tech Mouse</td>
                                             <td>Mouse</td>
                                             <td>2</td>
                                             <td><span class="badge bg-danger-light text-danger">Borrowed</span></td>
                                              <td>
                                                 <button class="btn btn-sm btn-warning me-1" title="Edit" data-bs-toggle="modal" data-bs-target="#editEquipmentModal" data-item-id="M01" data-item-name="A4Tech Mouse" data-item-category="Mouse" data-item-quantity="2" data-item-status="Borrowed"><i class="fas fa-edit me-1"></i>Edit</button>
                                                 <button class="btn btn-sm btn-danger" title="Delete"><i class="fas fa-trash me-1"></i>Delete</button>
                                             </td>
                                         </tr>
                                         <tr>
                                             <td>#K01 A4Tech Keyboard</td>
                                             <td>Keyboard</td>
                                             <td>3</td>
                                              <td><span class="badge bg-success-light text-success">Available</span></td>
                                              <td>
                                                 <button class="btn btn-sm btn-warning me-1" title="Edit" data-bs-toggle="modal" data-bs-target="#editEquipmentModal" data-item-id="K01" data-item-name="A4Tech Keyboard" data-item-category="Keyboard" data-item-quantity="3" data-item-status="Available"><i class="fas fa-edit me-1"></i>Edit</button>
                                                 <button class="btn btn-sm btn-danger" title="Delete"><i class="fas fa-trash me-1"></i>Delete</button>
                                             </td>
                                         </tr>
                                         <tr>
                                             <td>#U01 APC UPS</td>
                                             <td>UPS</td>
                                             <td>2</td>
                                              <td><span class="badge bg-success-light text-success">Available</span></td>
                                              <td>
                                                 <button class="btn btn-sm btn-warning me-1" title="Edit" data-bs-toggle="modal" data-bs-target="#editEquipmentModal" data-item-id="U01" data-item-name="APC UPS" data-item-category="UPS" data-item-quantity="2" data-item-status="Available"><i class="fas fa-edit me-1"></i>Edit</button>
                                                 <button class="btn btn-sm btn-danger" title="Delete"><i class="fas fa-trash me-1"></i>Delete</button>
                                             </td>
                                         </tr>
                                     </tbody>
                                 </table>
                             </div>
                         </div>
                     </div>
                </div>

                <!-- PENDING REQUESTS -->
                <div id="pending-requests-view" class="main-view" style="display: none;">
                     <div class="card content-panel">
                         <div class="card-body">
                             <h3 class="text-center mb-4 fw-bold form-title">Pending Approvals</h3>
                             <div class="table-responsive">
                                 <table class="table table-hover align-middle">
                                      <thead class="table-dark-green">
                                         <tr>
                                             <th>Student name</th>
                                             <th>Item code & name</th>
                                             <th>Purpose</th>
                                             <th>Date needed</th>
                                             <th>Return date</th>
                                             <th>Status</th>
                                             <th>Actions</th>
                                         </tr>
                                     </thead>
                                      <tbody>

                                         <tr>
                                             <td>Jelord Bojos</td>
                                             <td>#L01 Lenovo Laptop</td>
                                             <td>Project Defense</td>
                                             <td>3/21/2025</td>
                                             <td>3/24/2025</td>
                                             <td><span class="badge bg-warning-light text-warning">Pending</span></td>
                                             <td>

                                                 <button class="btn btn-sm btn-secondary me-1" title="View Details" data-bs-toggle="modal" data-bs-target="#viewRequestDetailsModal" data-request-id="P1" data-student="Jelord Bojos" data-item="#L01 Lenovo Laptop" data-purpose="Project Defense for Capstone II subject, scheduled presentation." data-needed="3/21/2025" data-return="3/24/2025">
                                                     <i class="fas fa-eye"></i>
                                                 </button>
                                                 <button class="btn btn-sm btn-success me-1" title="Approve"><i class="fas fa-check me-1"></i>Approve</button>
                                                 <button class="btn btn-sm btn-danger" title="Reject"><i class="fas fa-times me-1"></i>Reject</button>
                                             </td>
                                         </tr>

                                          <tr>
                                             <td>Nurhana Aminulla</td>
                                             <td>#M01 A4Tech Mouse</td>
                                             <td>Lab Activity</td>
                                             <td>3/22/2025</td>
                                             <td>3/22/2025</td>
                                             <td><span class="badge bg-warning-light text-warning">Pending</span></td>
                                             <td>

                                                  <button class="btn btn-sm btn-secondary me-1" title="View Details" data-bs-toggle="modal" data-bs-target="#viewRequestDetailsModal" data-request-id="P2" data-student="Nurhana Aminulla" data-item="#M01 A4Tech Mouse" data-purpose="Required for Programming Laboratory activity during class hours." data-needed="3/22/2025" data-return="3/22/2025">
                                                      <i class="fas fa-eye"></i>
                                                  </button>
                                                 <button class="btn btn-sm btn-success me-1" title="Approve"><i class="fas fa-check me-1"></i>Approve</button>
                                                 <button class="btn btn-sm btn-danger" title="Reject"><i class="fas fa-times me-1"></i>Reject</button>
                                             </td>
                                         </tr>

                                     </tbody>
                                 </table>
                             </div>
                         </div>
                     </div>
                </div>

                <!-- APPROVED REQUESTS -->
                 <div id="approved-requests-view" class="main-view" style="display: none;">
                      <div class="card content-panel">
                        <div class="card-body">
                            <h3 class="text-center mb-4 fw-bold form-title">Approved Requests & Borrowed Items</h3>
                             <div class="table-responsive">
                                <table class="table table-hover align-middle">
                                    <thead class="table-dark-green">
                                        <tr>
                                            <th>Student name</th>
                                            <th>Item code & name</th>
                                            <th>Purpose</th>
                                            <th>Date borrowed</th>
                                            <th>Due Date</th>
                                            <th>Status</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody>

                                         <tr>
                                            <td>Jelord Bojos</td>
                                            <td>#K01 A4Tech Keyboard</td>
                                            <td>Thesis Typing</td>
                                            <td>3/18/2025</td>
                                            <td>3/25/2025</td>
                                            <td><span class="badge bg-success-light text-success">Borrowed</span></td>
                                            <td>
                                                <button class="btn btn-sm btn-outline-secondary" title="Notify User about Due Date"> <!-- Subtle Notify -->
                                                    <i class="fas fa-bell"></i> Notify
                                                </button>
                                            </td>
                                        </tr>

                                        <tr>
                                           <td>Miko Zamora</td>
                                           <td>#P01 Epson Projector</td>
                                           <td>Org Event</td>
                                           <td>3/10/2025</td>
                                           <td>3/15/2025</td>
                                           <td><span class="badge bg-danger-light text-danger">Overdue</span></td>
                                           <td>

                                                <button class="btn btn-sm btn-danger" title="Notify User about Overdue Item">
                                                    <i class="fas fa-bell"></i> Notify Overdue
                                                </button>
                                            </td>
                                       </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- REJECTED REQUESTS -->
                <div id="rejected-requests-view" class="main-view" style="display: none;">
                    <div class="card content-panel">
                        <div class="card-body">
                            <h3 class="text-center mb-4 fw-bold form-title">Rejected Requests</h3>
                             <div class="table-responsive">
                                <table class="table table-hover align-middle">
                                    <thead class="table-dark-green">
                                        <tr>
                                            <th>Student name</th>
                                            <th>Item code & name</th>
                                            <th>Purpose</th>
                                            <th>Date Requested</th>
                                            <th>Requested Return Date</th>
                                            <th>Status</th>

                                        </tr>
                                    </thead>
                                    <tbody>

                                        <tr>
                                            <td>Jelord Bojos</td>
                                            <td>#C01 HDMI Cable</td>
                                            <td>Personal Use - Gaming</td>
                                            <td>3/19/2025</td>
                                            <td>3/20/2025</td>
                                            <td><span class="badge bg-danger-light text-danger">Rejected</span></td>
                                        </tr>

                                        <tr>
                                            <td>Nurhana Aminulla</td>
                                            <td>#L02 Lenovo Laptop</td>
                                            <td>Outside School Event</td>
                                            <td>3/20/2025</td>
                                            <td>3/23/2025</td>
                                            <td><span class="badge bg-danger-light text-danger">Rejected</span></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
               </div>

                <!-- BORROWED ITEMS  -->

                <div id="borrowed-items-view" class="main-view" style="display: none;">
                  <div class="card content-panel">
                      <div class="card-body">
                          <h3 class="text-center mb-4 fw-bold form-title">Item Borrowing History</h3>
                          <div class="mb-3">
                              <div class="input-group">
                                  <span class="input-group-text"><i class="fas fa-search"></i></span>
                                  <input type="text" class="form-control" placeholder="Search history by item, student, date...">
                              </div>
                          </div>

                          <div class="table-responsive">
                              <table class="table table-hover align-middle">
                                  <thead class="table-dark-green">
                                      <tr>
                                          <th>Student Name</th>
                                          <th>Item Name</th>
                                          <th>Item Code</th>
                                          <th>Purpose</th>
                                          <th>Date Borrowed</th>
                                          <th>Due Date</th>
                                          <th>Date Returned</th>
                                          <th>Status</th>
                                          <th>Action</th>
                                      </tr>
                                  </thead>
                                  <tbody>

                                      <tr>
                                          <td>Jelord Bojos</td>
                                          <td>A4Tech Mouse</td>
                                          <td>#M01</td>
                                          <td>Lab Activity</td>
                                          <td>3/05/2025</td>
                                          <td>3/06/2025</td>
                                          <td>3/06/2025</td>
                                          <td><span class="badge bg-secondary-light text-secondary">Returned</span></td>
                                          <td><span class="text-muted fst-italic">Completed</span></td> <!-- Indicate completed -->
                                      </tr>

                                      <tr>
                                          <td>Jelord Bojos</td>
                                          <td>A4Tech Keyboard</td>
                                          <td>#K01</td>
                                          <td>Thesis Typing</td>
                                          <td>3/18/2025</td>
                                          <td>3/25/2025</td>
                                          <td>-</td>
                                          <td><span class="badge bg-success-light text-success">Borrowed</span></td>
                                          <td><button class="btn btn-sm btn-primary">Mark Returned</button></td>
                                      </tr>

                                       <tr>
                                          <td>Miko Zamora</td>
                                          <td>Epson Projector</td>
                                          <td>#P01</td>
                                          <td>Org Event</td>
                                          <td>3/10/2025</td>
                                          <td>3/15/2025</td>
                                          <td>-</td>
                                          <td><span class="badge bg-danger-light text-danger">Overdue</span></td>
                                          <td><button class="btn btn-sm btn-primary">Mark Returned</button></td>
                                      </tr>

                                      <tr>
                                        <td>Merson Cael</td>
                                        <td>Lenovo Laptop</td>
                                        <td>#L01</td>
                                        <td>Research</td>
                                        <td>3/16/2025</td>
                                        <td>3/21/2025</td>
                                        <td>3/19/2025</td>
                                        <td><span class="badge bg-secondary-light text-secondary">Returned</span></td>
                                        <td><span class="text-muted fst-italic">Completed</span></td> <!-- Indicate completed -->
                                    </tr>
                                      
                                  </tbody>
                              </table>
                          </div>
                          <nav aria-label="Borrowed items history navigation" class="d-flex justify-content-end mt-3">
                              <ul class="pagination pagination-sm">
                                  <li class="page-item disabled"><a class="page-link" href="#" tabindex="-1" aria-disabled="true">Prev</a></li>
                                  <li class="page-item active" aria-current="page"><a class="page-link" href="#">1</a></li>
                                  <li class="page-item"><a class="page-link" href="#">Next</a></li>
                              </ul>
                          </nav>
                      </div>
                  </div>
                </div>


                <!-- USER MANAGEMENT -->
                <div id="user-management-view" class="main-view" style="display: none;">
                     <div class="card content-panel">
                         <div class="card-body">
                              <h3 class="text-center mb-4 fw-bold form-title">User Management</h3>
                               <div class="mb-3">
                                 <div class="input-group">
                                     <span class="input-group-text"><i class="fas fa-search"></i></span>
                                     <input type="text" class="form-control" placeholder="Search users...">
                                 </div>
                             </div>
                              <div class="table-responsive">
                                 <table class="table table-hover align-middle">
                                     <thead class="table-dark-green">
                                         <tr>
                                             <th>Full Name</th>
                                             <th>Email</th>
                                             <th>Status</th>
                                             <th>Actions</th>
                                         </tr>
                                     </thead>
                                     <tbody>

                                         <tr>
                                             <td>Nurhana Aminulla</td>
                                             <td>na2024@wmsu.edu.ph</td>
                                             <td><span class="badge bg-success-light text-success">Active</span></td>
                                             <td>
                                                 <button class="btn btn-sm btn-warning me-1" title="Edit" data-bs-toggle="modal" data-bs-target="#editUserModal" data-user-id="1" data-user-name="Nurhana Aminulla" data-user-email="na20247@wmsu.edu.ph"><i class="fas fa-user-edit me-1"></i>Edit</button>
                                                 <button class="btn btn-sm btn-info me-1" title="Deactivate" data-bs-toggle="modal" data-bs-target="#confirmUserStatusModal" data-user-id="1" data-user-name="Nurhana Aminulla" data-action="deactivate"><i class="fas fa-user-slash me-1"></i>Deactivate</button>
                                                 <button class="btn btn-sm btn-danger" title="Delete" data-bs-toggle="modal" data-bs-target="#confirmUserDeleteModal" data-user-id="1" data-user-name="Nurhana Aminulla"><i class="fas fa-user-times me-1"></i>Delete</button>
                                             </td>
                                         </tr>

                                          <tr>
                                             <td>Jelord Bojos</td>
                                             <td>jb2024@wmsu.edu.ph</td>
                                             <td><span class="badge bg-success-light text-success">Active</span></td>
                                             <td>
                                                 <button class="btn btn-sm btn-warning me-1" title="Edit" data-bs-toggle="modal" data-bs-target="#editUserModal" data-user-id="2" data-user-name="Jelord Bojos" data-user-email="jb2024@wmsu.edu.ph"><i class="fas fa-user-edit me-1"></i>Edit</button>
                                                 <button class="btn btn-sm btn-info me-1" title="Deactivate" data-bs-toggle="modal" data-bs-target="#confirmUserStatusModal" data-user-id="2" data-user-name="Jelord Bojos" data-action="deactivate"><i class="fas fa-user-slash me-1"></i>Deactivate</button>
                                                 <button class="btn btn-sm btn-danger" title="Delete" data-bs-toggle="modal" data-bs-target="#confirmUserDeleteModal" data-user-id="2" data-user-name="Jelord Bojos"><i class="fas fa-user-times me-1"></i>Delete</button>
                                             </td>
                                         </tr>

                                          <tr>
                                             <td>Miko Zamora</td>
                                             <td>mz2024@wmsu.edu.ph</td>
                                             <td><span class="badge bg-secondary-light text-secondary">Inactive</span></td>
                                              <td>
                                                 <button class="btn btn-sm btn-warning me-1" title="Edit" data-bs-toggle="modal" data-bs-target="#editUserModal" data-user-id="3" data-user-name="Miko Zamora" data-user-email="mz2024@wmsu.edu.ph"><i class="fas fa-user-edit me-1"></i>Edit</button>
                                                 <button class="btn btn-sm btn-success me-1" title="Activate" data-bs-toggle="modal" data-bs-target="#confirmUserStatusModal" data-user-id="3" data-user-name="Miko Zamora" data-action="activate"><i class="fas fa-user-check me-1"></i>Activate</button>
                                                 <button class="btn btn-sm btn-danger" title="Delete" data-bs-toggle="modal" data-bs-target="#confirmUserDeleteModal" data-user-id="3" data-user-name="Miko Zamora"><i class="fas fa-user-times me-1"></i>Delete</button>
                                             </td>
                                         </tr>
                                         <tr>
                                            <td>Inna Isnaji</td>
                                            <td>ii2024@wmsu.edu.ph</td>
                                            <td><span class="badge bg-success-light text-success">Active</span></td>
                                            <td>
                                                <button class="btn btn-sm btn-warning me-1" title="Edit" data-bs-toggle="modal" data-bs-target="#editUserModal" data-user-id="1" data-user-name="Inna Isnaji" data-user-email="ii2024@wmsu.edu.ph"><i class="fas fa-user-edit me-1"></i>Edit</button>
                                                <button class="btn btn-sm btn-info me-1" title="Deactivate" data-bs-toggle="modal" data-bs-target="#confirmUserStatusModal" data-user-id="1" data-user-name="Inna Isnaji" data-action="deactivate"><i class="fas fa-user-slash me-1"></i>Deactivate</button>
                                                <button class="btn btn-sm btn-danger" title="Delete" data-bs-toggle="modal" data-bs-target="#confirmUserDeleteModal" data-user-id="1" data-user-name="Inna Isnaji"><i class="fas fa-user-times me-1"></i>Delete</button>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Merson Cael</td>
                                            <td>hz202302657@wmsu.edu.ph</td>
                                            <td><span class="badge bg-success-light text-success">Active</span></td>
                                            <td>
                                                <button class="btn btn-sm btn-warning me-1" title="Edit" data-bs-toggle="modal" data-bs-target="#editUserModal" data-user-id="2" data-user-name="Merson Cael" data-user-email="hz202302657@wmsu.edu.ph"><i class="fas fa-user-edit me-1"></i>Edit</button>
                                                <button class="btn btn-sm btn-info me-1" title="Deactivate" data-bs-toggle="modal" data-bs-target="#confirmUserStatusModal" data-user-id="2" data-user-name="Merson Cael" data-action="deactivate"><i class="fas fa-user-slash me-1"></i>Deactivate</button>
                                                <button class="btn btn-sm btn-danger" title="Delete" data-bs-toggle="modal" data-bs-target="#confirmUserDeleteModal" data-user-id="2" data-user-name="Merson Cael"><i class="fas fa-user-times me-1"></i>Delete</button>
                                            </td>
                                        </tr>
                                     </tbody>
                                 </table>
                             </div>
                         </div>
                     </div>
                </div>


                <!-- ACTIVITY LOG -->
                <div id="activity-log-view" class="main-view" style="display: none;">
                    <div class="card content-panel">
                        <div class="card-body">
                             <h3 class="text-center mb-4 fw-bold form-title">System Activity Log</h3>
                              <div class="mb-3 d-flex justify-content-between align-items-center flex-wrap gap-2">

                                  <div>
                                      <label for="logFilterUserSimple" class="form-label visually-hidden">Filter by User</label>
                                      <select id="logFilterUserSimple" class="form-select form-select-sm d-inline-block w-auto me-2">
                                          <option value="">All Users</option>

                                          <option value="1">Admin Test</option>
                                          <option value="2">Jelord Bojos</option>
                                           <option value="3">Nurhana Aminulla</option>
                                      </select>
                                  </div>
                                  <!-- Search -->
                                <div class="input-group input-group-sm w-auto">
                                    <span class="input-group-text"><i class="fas fa-search"></i></span>
                                    <input type="text" class="form-control" placeholder="Search log details...">
                                </div>
                            </div>


                             <ul class="list-group list-group-flush activity-log-list">

                                <li class="list-group-item d-flex justify-content-between align-items-start flex-wrap gap-2">
                                    <div>
                                        <i class="fas fa-clock text-muted me-1"></i>
                                        <strong>Nurhana Aminulla</strong> requested item <strong>#M01 A4Tech Mouse</strong>.
                                    </div>
                                    <small class="text-muted timestamp">2025-03-22 10:15:30</small>
                                </li>

                                 <li class="list-group-item d-flex justify-content-between align-items-start flex-wrap gap-2">
                                    <div>
                                        <i class="fas fa-clock text-muted me-1"></i>
                                        <strong>Jelord Bojos</strong> requested item <strong>#L01 Lenovo Laptop</strong>.
                                    </div>
                                     <small class="text-muted timestamp">2025-03-21 14:05:11</small>
                                </li>

                                 <li class="list-group-item d-flex justify-content-between align-items-start flex-wrap gap-2">
                                    <div>
                                        <i class="fas fa-undo text-muted me-1"></i>
                                        <strong>Jelord Bojos</strong> returned item <strong>#M01 A4Tech Mouse</strong>.
                                    </div>
                                    <small class="text-muted timestamp">2025-03-20 09:00:05</small>
                                </li>

                                <li class="list-group-item d-flex justify-content-between align-items-start flex-wrap gap-2">
                                     <div>
                                         <i class="fas fa-check-circle text-success me-1"></i>
                                         <strong>Admin Test</strong> approved request for <strong>#K01 A4Tech Keyboard</strong> (requested by Jelord Bojos).
                                    </div>
                                    <small class="text-muted timestamp">2025-03-19 11:30:00</small>
                                </li>

                                 <li class="list-group-item d-flex justify-content-between align-items-start flex-wrap gap-2">
                                     <div>
                                         <i class="fas fa-exclamation-triangle text-danger me-1"></i>
                                         Item <strong>#P01 Epson Projector</strong> (borrowed by Miko Zamora) was marked as <strong>Overdue</strong>.
                                     </div>
                                     <small class="text-muted timestamp">2025-03-17 16:00:00</small>
                                </li>

                                 <li class="list-group-item d-flex justify-content-between align-items-start flex-wrap gap-2">
                                     <div>
                                         <i class="fas fa-plus-circle text-info me-1"></i>
                                         <strong>Admin Test</strong> added new equipment <strong>#U01 APC UPS</strong> to inventory.
                                     </div>
                                     <small class="text-muted timestamp">2025-03-15 08:55:10</small>
                                </li>

                             </ul>


                            <nav aria-label="Activity log navigation" class="d-flex justify-content-end mt-3">
                                 <ul class="pagination pagination-sm">
                                     <li class="page-item disabled"><a class="page-link" href="#" tabindex="-1" aria-disabled="true">Prev</a></li>
                                     <li class="page-item active" aria-current="page"><a class="page-link" href="#">1</a></li>
                                      <li class="page-item"><a class="page-link" href="#">2</a></li>
                                     <li class="page-item"><a class="page-link" href="#">Next</a></li>
                                 </ul>
                             </nav>
                        </div>
                    </div>
               </div>

        <!-- NOTIFICATIONS VIEW -->
        <div id="notifications-view" class="main-view" style="display: none;">
            <div class="card content-panel">
                <div class="card-body">
                     <h3 class="text-center mb-4 fw-bold form-title">Notifications</h3>

                      <div class="d-flex justify-content-between align-items-center mb-3 flex-wrap gap-2">
                          <div>
                              <button class="btn btn-sm btn-outline-primary"><i class="fas fa-check-double me-1"></i> Mark all as read</button>
                          </div>
                          <div class="d-flex gap-2">
                              <select class="form-select form-select-sm w-auto">
                                  <option selected>Filter by Type...</option>
                                  <option value="request">Borrow Request</option>
                                  <option value="return">Item Return</option>
                                  <option value="overdue">Overdue Item</option>
                                  <option value="system">System Alert</option>
                              </select>
                              <select class="form-select form-select-sm w-auto">
                                  <option selected>Show: Unread</option>
                                  <option value="all">Show: All</option>
                                  <option value="read">Show: Read</option>
                              </select>
                          </div>
                      </div>

         <!-- Notification List -->
                     <ul class="list-group list-group-flush notification-list">

                        <li class="list-group-item list-group-item-action d-flex justify-content-between align-items-start bg-light-subtle"> <!-- Use subtle bg for unread -->
                            <div>
                                <div class="fw-bold"><i class="fas fa-clipboard-list text-primary me-2"></i>New Borrow Request</div>
                                <small>Student 'Nurhana Aminulla' requested item '#M01 A4Tech Mouse'.</small>
                            </div>
                            <div class="text-end">
                                 <small class="text-muted d-block mb-1">3 hours ago</small>
                                 <button class="btn btn-sm btn-outline-secondary p-1 lh-1" title="Mark as read"><i class="far fa-envelope-open"></i></button>
                                 <a href="#pending-requests-view" class="btn btn-sm btn-outline-primary p-1 lh-1 sidebar-link" title="View Request"><i class="fas fa-eye"></i></a>
                            </div>
                        </li>

                         <li class="list-group-item list-group-item-action d-flex justify-content-between align-items-start bg-light-subtle">
                            <div>
                                <div class="fw-bold"><i class="fas fa-exclamation-triangle text-danger me-2"></i>Overdue Item Alert</div>
                                <small>Item '#P01 Epson Projector' borrowed by 'Miko Zamora' is now overdue.</small>
                            </div>
                            <div class="text-end">
                                 <small class="text-muted d-block mb-1">1 day ago</small>
                                 <button class="btn btn-sm btn-outline-secondary p-1 lh-1" title="Mark as read"><i class="far fa-envelope-open"></i></button>
                                 <a href="#approved-requests-view" class="btn btn-sm btn-outline-primary p-1 lh-1 sidebar-link" title="View Details"><i class="fas fa-eye"></i></a>
                            </div>
                        </li>

                        <li class="list-group-item list-group-item-action d-flex justify-content-between align-items-start text-muted"> <!-- text-muted for read -->
                            <div>
                                <div class="fw-normal"><i class="fas fa-undo me-2"></i>Item Returned</div>
                                <small>Item '#M01 A4Tech Mouse' was returned by 'Jelord Bojos'.</small>
                            </div>
                            <div class="text-end">
                                 <small class="d-block mb-1">2 days ago</small>

                                  <a href="#borrowed-items-view" class="btn btn-sm btn-outline-secondary p-1 lh-1 sidebar-link" title="View History"><i class="fas fa-history"></i></a>
                            </div>
                        </li>

                         <li class="list-group-item list-group-item-action d-flex justify-content-between align-items-start text-muted">
                            <div>
                                 <div class="fw-normal"><i class="fas fa-check-circle text-success me-2"></i>Request Approved</div>
                                <small>Request for '#K01 A4Tech Keyboard' (Jelord Bojos) was approved.</small>
                            </div>
                             <div class="text-end">
                                 <small class="d-block mb-1">3 days ago</small>
                                  <a href="#approved-requests-view" class="btn btn-sm btn-outline-secondary p-1 lh-1 sidebar-link" title="View Details"><i class="fas fa-history"></i></a>
                            </div>
                        </li>

                     </ul>


                     <nav aria-label="Notification navigation" class="d-flex justify-content-end mt-3">
                         <ul class="pagination pagination-sm">
                             <li class="page-item disabled"><a class="page-link" href="#" tabindex="-1" aria-disabled="true">Prev</a></li>
                             <li class="page-item active" aria-current="page"><a class="page-link" href="#">1</a></li>
                              <li class="page-item"><a class="page-link" href="#">2</a></li>
                             <li class="page-item"><a class="page-link" href="#">Next</a></li>
                         </ul>
                     </nav>
                </div>
            </div>
       </div>
       <!-- END NOTIFICATIONS VIEW -->

                 <!-- REPORTS  -->
                <div id="reports-view" class="main-view" style="display: none;">
                     <div class="card content-panel">
                         <div class="card-body">
                             <h3 class="text-center mb-4 fw-bold form-title">Reports</h3>
                             <p class="text-center text-muted">Placeholder: Display charts and reporting options.</p>
                         </div>
                     </div>
                </div>

                 <!-- SETTINGS -->
                <div id="settings-view" class="main-view" style="display: none;">
                    <div class="card content-panel">
                        <div class="card-body p-4 p-md-5">
                            <h3 class="text-center mb-4 fw-bold form-title">Settings</h3>

                            <form>
                                <!-- Profile Settings Section -->
                                <h5 class="mb-3 section-title">Profile Settings</h5>
                                <div class="row g-3 mb-4">
                                    <div class="col-md-6">
                                        <label for="adminName" class="form-label">Admin Name</label>
                                        <input type="text" class="form-control" id="adminName" value="Admin Test" placeholder="Your Name">
                                    </div>
                                    <div class="col-md-6">
                                        <label for="adminEmail" class="form-label">Email Address</label>
                                        <input type="email" class="form-control" id="adminEmail" value="admin@test" placeholder="your.email@example.com" readonly>
                                        <small class="text-muted">Email cannot be changed here.</small>
                                    </div>
                                    <div class="col-md-6">
                                       <label for="adminNewPassword" class="form-label">New Password (Optional)</label>
                                       <input type="password" class="form-control" id="adminNewPassword" placeholder="Leave blank to keep current">
                                    </div>
                                    <div class="col-md-6">
                                       <label for="adminConfirmPassword" class="form-label">Confirm New Password</label>
                                       <input type="password" class="form-control" id="adminConfirmPassword" placeholder="Confirm new password">
                                    </div>
                                     <div class="col-12">
                                       <label for="adminAvatar" class="form-label">Change Avatar</label>
                                       <input class="form-control" type="file" id="adminAvatar">
                                   </div>
                                </div>
                                <hr>

                                <!-- System Settings Section -->
                                <h5 class="mb-3 mt-4 section-title">System Preferences</h5>
                                 <div class="row g-3 mb-4">
                                     <div class="col-md-6">
                                       <label for="borrowLimit" class="form-label">Max Items Per User</label>
                                       <input type="number" class="form-control" id="borrowLimit" value="3" min="1">
                                     </div>
                                     <div class="col-md-6">
                                       <label for="defaultLoanDays" class="form-label">Default Borrow Duration (Days)</label>
                                       <input type="number" class="form-control" id="defaultLoanDays" value="7" min="1">
                                     </div>

                                 </div>
                                 <hr>

                                <!-- Notification Settings Section -->
                                <h5 class="mb-3 mt-4 section-title">Notification Preferences</h5>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" value="" id="notifyNewRequest" checked>
                                    <label class="form-check-label" for="notifyNewRequest">
                                        Notify on New Borrow Request
                                    </label>
                                </div>
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" value="" id="notifyOverdueAdmin" checked>
                                    <label class="form-check-label" for="notifyOverdueAdmin">
                                        Notify Admin on Overdue Items
                                    </label>
                                </div>
                                 <div class="form-check mb-4">
                                    <input class="form-check-input" type="checkbox" value="" id="notifyUserReturn">
                                    <label class="form-check-label" for="notifyUserReturn">
                                        Notify User on Item Return Confirmation
                                    </label>
                                </div>

                                <!-- Save Button -->
                                <div class="text-center mt-4">
                                    <button type="submit" class="btn btn-success btn-lg fw-bold"><i class="fas fa-save me-2"></i>Save Settings</button>
                                </div>
                            </form>
                        </div>
                     </div>
                </div>

            </main>

            <!-- Footer -->
            <footer class="footer mt-auto py-3 text-center">
                 <small>© 2025 CCS Admin Panel | CCSIELS</small>
            </footer>

        </div> <!--End Content -->
    </div> <!--end dashboard Layout-->

    <!--                          MODALS                               -->


    <!-- View Request Details Modal -->
    <div class="modal fade" id="viewRequestDetailsModal" tabindex="-1" aria-labelledby="viewRequestDetailsModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="viewRequestDetailsModalLabel">Request Details</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <dl class="row">
                        <dt class="col-sm-4">Request ID:</dt>
                        <dd class="col-sm-8" id="detailRequestId"></dd>

                        <dt class="col-sm-4">Student:</dt>
                        <dd class="col-sm-8" id="detailStudentName"></dd>

                        <dt class="col-sm-4">Item:</dt>
                        <dd class="col-sm-8" id="detailItemName"></dd>

                        <dt class="col-sm-4">Date Needed:</dt>
                        <dd class="col-sm-8" id="detailDateNeeded"></dd>

                        <dt class="col-sm-4">Return Date:</dt>
                        <dd class="col-sm-8" id="detailReturnDate"></dd>

                        <dt class="col-sm-4">Purpose:</dt>
                        <dd class="col-sm-8" id="detailPurpose" style="white-space: pre-wrap;"></dd>
                    </dl>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>

                </div>
            </div>
        </div>
    </div>


    <!-- Edit Equipment -->
    <div class="modal fade" id="editEquipmentModal" tabindex="-1" aria-labelledby="editEquipmentModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editEquipmentModalLabel">Edit Equipment</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="editEquipmentForm">
                        <input type="hidden" id="editItemId">
                        <div class="row g-3">
                             <div class="col-md-6 mb-3">
                                <label for="editItemName" class="form-label">Item name</label>
                                <input type="text" class="form-control" id="editItemName" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="editItemCode" class="form-label">Item code</label>
                                <input type="text" class="form-control" id="editItemCode" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="editItemCategory" class="form-label">Category</label>
                                <select class="form-select" id="editItemCategory" required>
                                    <option disabled value="">Select Category</option>
                                    <option value="laptop">Laptop</option>
                                    <option value="projector">Projector</option>
                                    <option value="cable">Cable</option>
                                    <option value="mouse">Mouse</option>
                                    <option value="keyboard">Keyboard</option>
                                     <option value="ups">UPS</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="editItemBrand" class="form-label">Brand/Model</label>
                                <input type="text" class="form-control" id="editItemBrand">
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="editItemQuantity" class="form-label">Quantity Available</label>
                                <input type="number" class="form-control" id="editItemQuantity" required min="0">
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="editItemSerial" class="form-label">Serial Code</label>
                                <input type="text" class="form-control" id="editItemSerial">
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="editItemCondition" class="form-label">Condition</label>
                                 <select class="form-select" id="editItemCondition" required>
                                    <option disabled value="">Select Condition</option>
                                    <option value="new">New</option>
                                    <option value="good">Good</option>
                                    <option value="fair">Fair</option>
                                    <option value="poor">Poor</option>
                                </select>
                            </div>

                            <div class="col-md-6 mb-3">
                                <label class="form-label">Current Image</label>
                                <div id="editImagePreview" class="mb-2 text-center" style="min-height: 100px; border: 1px dashed #ccc; padding: 5px;">
                                    <img src="" alt="Current Image" style="max-height: 150px; max-width: 100%; display: none;">
                                    <span class="text-muted">No image available</span>
                                </div>
                                <label for="editItemImage" class="form-label">Change Image (Optional)</label>
                                <input class="form-control" type="file" id="editItemImage" accept="image/*">
                            </div>
                            <div class="col-12 mb-3">
                                <label for="editItemRemarks" class="form-label">Remarks/Notes</label>
                                <textarea class="form-control" id="editItemRemarks" rows="3"></textarea>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" id="saveEquipmentChangesBtn">Save Changes</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit User Modal-->
    <div class="modal fade" id="editUserModal" tabindex="-1" aria-labelledby="editUserModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="editUserModalLabel">Edit User</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form id="editUserForm">
              <input type="hidden" id="editUserId">
              <div class="mb-3">
                <label for="editUserName" class="form-label">Full Name</label>
                <input type="text" class="form-control" id="editUserName" required>
              </div>
              <div class="mb-3">
                <label for="editUserEmail" class="form-label">Email address</label>
                <input type="email" class="form-control" id="editUserEmail" required>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary" id="saveUserChangesBtn">Save changes</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Confirm User Status Change-->
    <div class="modal fade" id="confirmUserStatusModal" tabindex="-1" aria-labelledby="confirmUserStatusModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="confirmUserStatusModalLabel">Confirm Status Change</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
              <p>Are you sure you want to <strong id="userStatusAction"></strong> user <strong id="userStatusName"></strong>?</p>
              <input type="hidden" id="confirmStatusUserId">
              <input type="hidden" id="confirmStatusAction">
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-primary" id="confirmUserStatusBtn">Confirm</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Confirm User Delete  -->
    <div class="modal fade" id="confirmUserDeleteModal" tabindex="-1" aria-labelledby="confirmUserDeleteModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="confirmUserDeleteModalLabel">Confirm User Deletion</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
              <p class="text-danger fw-bold">Warning!</p>
              <p>Are you sure you want to permanently delete user <strong id="userDeleteName"></strong>?</p>
              <p>This action cannot be undone.</p>
              <input type="hidden" id="confirmDeleteUserId">
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-danger" id="confirmUserDeleteBtn">Delete User</button>
          </div>
        </div>
      </div>
    </div>


    <!-- Scripts -->
   
    <script src="assets/js/jquery-3.7.1.min.js"></script>
    <script src="assets/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/script.js"></script>


    <script>
        // --- Populate View Details Modal ---
        var viewDetailsModal = document.getElementById('viewRequestDetailsModal');
        if (viewDetailsModal) {
            viewDetailsModal.addEventListener('show.bs.modal', function (event) {
                var button = event.relatedTarget;
                var requestId = button.getAttribute('data-request-id');
                var student = button.getAttribute('data-student');
                var item = button.getAttribute('data-item');
                var purpose = button.getAttribute('data-purpose');
                var needed = button.getAttribute('data-needed');
                var returnDate = button.getAttribute('data-return');

                var modalTitle = viewDetailsModal.querySelector('.modal-title');
                modalTitle.textContent = 'Request Details (' + requestId + ')';
                viewDetailsModal.querySelector('#detailRequestId').textContent = requestId || '-';
                viewDetailsModal.querySelector('#detailStudentName').textContent = student || '-';
                viewDetailsModal.querySelector('#detailItemName').textContent = item || '-';
                viewDetailsModal.querySelector('#detailDateNeeded').textContent = needed || '-';
                viewDetailsModal.querySelector('#detailReturnDate').textContent = returnDate || '-';
                viewDetailsModal.querySelector('#detailPurpose').textContent = purpose || '-';
            });
        }

        // --- Populate Edit Equipment Modal ---
        var editEquipmentModal = document.getElementById('editEquipmentModal');
         if (editEquipmentModal) {
            editEquipmentModal.addEventListener('show.bs.modal', function (event) {
                 var button = event.relatedTarget;
                 var itemId = button.getAttribute('data-item-id');
                 var itemName = button.getAttribute('data-item-name');
                 var itemCategory = button.getAttribute('data-item-category');
                 var itemQuantity = button.getAttribute('data-item-quantity');
                 var itemCode = button.getAttribute('data-item-id'); // Assuming item code is same as ID here, adjust if needed


                 editEquipmentModal.querySelector('#editItemId').value = itemId;
                 editEquipmentModal.querySelector('#editItemName').value = itemName;
                 editEquipmentModal.querySelector('#editItemCategory').value = itemCategory;
                 editEquipmentModal.querySelector('#editItemQuantity').value = itemQuantity;
                 editEquipmentModal.querySelector('#editItemCode').value = itemCode; 

                 var previewImg = editEquipmentModal.querySelector('#editImagePreview img');
                 var noImageSpan = editEquipmentModal.querySelector('#editImagePreview span');
                
                 var imageUrl = null; 
                 if(imageUrl) {
                     previewImg.src = imageUrl;
                     previewImg.style.display = 'block';
                     noImageSpan.style.display = 'none';
                 } else {
                     previewImg.src = '#'; 
                     previewImg.style.display = 'none';
                     noImageSpan.style.display = 'inline';
                 }
            });
        }

        // --- Populate Edit User Modal ---
        var editUserModal = document.getElementById('editUserModal');
        if (editUserModal) {
            editUserModal.addEventListener('show.bs.modal', function(event) {
                var button = event.relatedTarget;
                var userId = button.getAttribute('data-user-id');
                var userName = button.getAttribute('data-user-name');
                var userEmail = button.getAttribute('data-user-email');

                editUserModal.querySelector('#editUserId').value = userId;
                editUserModal.querySelector('#editUserName').value = userName;
                editUserModal.querySelector('#editUserEmail').value = userEmail;
            });
        }

        // --- Populate Confirm User Status Change Modal ---
        var confirmUserStatusModal = document.getElementById('confirmUserStatusModal');
        if (confirmUserStatusModal) {
            confirmUserStatusModal.addEventListener('show.bs.modal', function(event) {
                var button = event.relatedTarget;
                var userId = button.getAttribute('data-user-id');
                var userName = button.getAttribute('data-user-name');
                var action = button.getAttribute('data-action'); // 'activate' or 'deactivate'

                // Populate the confirmation text
                confirmUserStatusModal.querySelector('#userStatusAction').textContent = action;
                confirmUserStatusModal.querySelector('#userStatusName').textContent = userName;


                confirmUserStatusModal.querySelector('#confirmStatusUserId').value = userId;
                confirmUserStatusModal.querySelector('#confirmStatusAction').value = action;


                var confirmBtn = confirmUserStatusModal.querySelector('#confirmUserStatusBtn');
                if (action === 'activate') {
                    confirmBtn.textContent = 'Activate User';
                    confirmBtn.classList.remove('btn-info', 'btn-danger');
                    confirmBtn.classList.add('btn-success');
                } else if (action === 'deactivate') {
                    confirmBtn.textContent = 'Deactivate User';
                    confirmBtn.classList.remove('btn-success', 'btn-danger');
                    confirmBtn.classList.add('btn-info');
                } else {
                     confirmBtn.textContent = 'Confirm';
                     confirmBtn.classList.remove('btn-success', 'btn-info', 'btn-danger');
                     confirmBtn.classList.add('btn-primary');
                }
            });
        }


         var confirmUserDeleteModal = document.getElementById('confirmUserDeleteModal');
         if (confirmUserDeleteModal) {
            confirmUserDeleteModal.addEventListener('show.bs.modal', function(event) {
                 var button = event.relatedTarget;
                 var userId = button.getAttribute('data-user-id');
                 var userName = button.getAttribute('data-user-name');

                 confirmUserDeleteModal.querySelector('#userDeleteName').textContent = userName;
                 confirmUserDeleteModal.querySelector('#confirmDeleteUserId').value = userId;
            });
         }

    </script>

</body>
</html>
